(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,t,a){},145:function(e,t,a){},255:function(e,t,a){},350:function(e,t,a){},454:function(e,t,a){},488:function(e,t,a){},683:function(e,t,a){},738:function(e,t,a){},739:function(e,t,a){},740:function(e,t,a){},741:function(e,t,a){},742:function(e,t,a){},743:function(e,t,a){},744:function(e,t,a){},745:function(e,t,a){},845:function(e,t,a){},846:function(e,t,a){},847:function(e,t,a){},848:function(e,t,a){},849:function(e,t,a){},850:function(e,t,a){},867:function(e,t,a){},868:function(e,t,a){},869:function(e,t,a){},870:function(e,t,a){},881:function(e,t,a){},882:function(e,t,a){},883:function(e,t,a){},885:function(e,t,a){},886:function(e,t,a){},887:function(e,t,a){},972:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(49),s=a.n(c),i=a(19),o=a(156),l=a(485),u=a(9),d=a(486),j=a(404),b=a(487),p=a(8),m=a(31),O=a(159),h=a(254),x=a(332),f=a(41),v=a(46),g=a(534),y=a(995),T=a(65),w=a(243),I=a(42),_=a(27),k="CREATE_LEAVE",C="UPDATE_LEAVE",E="FETCH_ALL_LEAVE",D="FETCH_ONE_LEAVE",M="FETCH_LEAVE_BY_DATERANGE",L="LEAVE_START_LOADING",N="LEAVE_END_LOADING",F="LEAVE_ERROR",S="FETCH_LEAVE_REQUESTS",A="FETCH_UPCOMING_LEAVE",R="FETCH_LEAVE_HISTORY",P="FETCH_TODAY_LEAVE",Y="AUTH",q="LOGOUT",V="AUTH_START_LOADING",H="AUTH_END_LOADING",z="AUTH_ERROR",B="CREATE_USER",U="UPDATE_USER",K="FETCH_ALL_USER",G="FETCH_ONE_USER",J="USER_START_LOADING",W="USER_END_LOADING",Q="USER_ERROR",X="FETCH_DEPT_USER",Z="CREATE_DEPT",$="UPDATE_DEPT",ee="DELETE_DEPT",te="FETCH_ALL_DEPT",ae="DEPT_START_LOADING",ne="DEPT_END_LOADING",re="DEPT_ERROR",ce="CREATE_LEAVETYPE",se="UPDATE_LEAVETYPE",ie="FETCH_ALL_LEAVETYPE",oe="FETCH_ONE_LEAVETYPE",le="LEAVETYPE_START_LOADING",ue="LEAVETYPE_END_LOADING",de="LEAVE_ERROR",je="FETCH_LEAVE_COUNT",be="CREATE_ROLE",pe="UPDATE_ROLE",me="FETCH_ALL_ROLE",Oe="FETCH_ONE_ROLE",he="ROLE_START_LOADING",xe="ROLE_END_LOADING",fe="ROLE_ERROR",ve="CREATE_HOLIDAY",ge="UPDATE_HOLIDAY",ye="DELETE_HOLIDAY",Te="FETCH_ALL_HOLIDAY",we="HOLIDAY_START_LOADING",Ie="HOLIDAY_END_LOADING",_e="HOLIDAY_ERROR",ke="FETCH_HOLIDAY_BY_YEAR",Ce="CREATE_TRAINING",Ee="FETCH_ALL_TRAINING",De="FETCH_ONE_TRAINING",Me="TRAINING_START_LOADING",Le="TRAINING_END_LOADING",Ne="TRAINING_ERROR",Fe="UPDATE_TRAINING",Se="LEAVE_TRAINING",Ae="FETCH_EXT_TRAINING",Re="UPDATE_TRAINING_STATUS",Pe="FETCH_EXT_TRAINING_HISTORY",Ye="FETCH_TRAINING_HISTORY",qe="FETCH_UPCOMING_TRAINING",Ve="FETCH_TODAY_TRAINING",He="FETCH_TRAINING_COUNT",ze="CREATE_POLICY",Be="UPDATE_POLICY",Ue="FETCH_ALL_POLICY",Ke="FETCH_ONE_POLICY",Ge="POLICY_START_LOADING",Je="POLICY_END_LOADING",We="POLICY_ERROR",Qe=a(136),Xe=a(112),Ze=a(5),$e=a.n(Ze),et=a(488),tt=a.n(et),at=a(1),nt=["overlayClassName"],rt=function(e){var t=e.overlayClassName,a=Object(Qe.a)(e,nt);return Object(at.jsx)(Xe.a,Object(p.a)({overlayClassName:$e()(tt.a.container,t)},a))},ct=a(145),st=a.n(ct),it=function(e){var t=e.user,a=Object(i.b)(),n=Object(I.g)(),r=(Object(I.h)(),Object(at.jsxs)(T.a,{className:st.a.menu,children:[Object(at.jsx)(T.a.Item,{children:Object(at.jsx)(_.b,{to:"/profile",children:"Profile"})},"profile"),Object(at.jsxs)(T.a.Item,{onClick:function(){a({type:q}),n.push("/auth")},children:[Object(at.jsx)(y.a,{}),"Logout"]},"logout")]}));return t?Object(at.jsx)(rt,{overlay:r,children:Object(at.jsxs)("span",{className:"".concat(st.a.action," ").concat(st.a.account),children:[Object(at.jsx)(w.a,{size:"small",className:st.a.avatar,src:"https://gw.alipayobjects.com/zos/rmsportal/BiazfanxmamNRoxxVxka.png",alt:"avatar"}),Object(at.jsx)("span",{className:"".concat(st.a.name," anticon"),children:"".concat(t.first_name," ").concat(t.last_name)})]})}):Object(at.jsx)(_.b,{to:"/auth",children:"Login"})},ot=a(93),lt=a(346),ut=(a(977),a(64)),dt=a(28),jt=(a(350),a(528)),bt=(a(492),a(11)),pt=a.n(bt),mt=a(996),Ot=a(143),ht=a(75),xt=a(80),ft=a(994),vt=a(130),gt=a.n(vt),yt=function(e){var t=e.data,a=void 0===t?[]:t,n=e.onClick,r=e.onClear,c=e.title,s=e.onViewMore,i=e.emptyText,o=e.showClear,l=void 0===o||o,u=e.clearText,d=e.viewMoreText,j=e.showViewMore,b=void 0!==j&&j;return a&&0!==a.length?Object(at.jsxs)("div",{children:[Object(at.jsx)(ft.b,{className:gt.a.list,dataSource:a,renderItem:function(e,t){var a=$e()(gt.a.item,Object(ot.a)({},gt.a.read,e.read)),r=e.avatar?"string"===typeof e.avatar?Object(at.jsx)(w.a,{className:gt.a.avatar,src:e.avatar}):Object(at.jsx)("span",{className:gt.a.iconElement,children:e.avatar}):null;return Object(at.jsx)(ft.b.Item,{className:a,onClick:function(){null===n||void 0===n||n(e)},children:Object(at.jsx)(ft.b.Item.Meta,{className:gt.a.meta,avatar:r,title:Object(at.jsxs)("div",{className:gt.a.title,children:[e.title,Object(at.jsx)("div",{className:gt.a.extra,children:e.extra})]}),description:Object(at.jsxs)("div",{children:[Object(at.jsx)("div",{className:gt.a.description,children:e.description}),Object(at.jsx)("div",{className:gt.a.datetime,children:e.datetime})]})})},e.key||t)}}),Object(at.jsxs)("div",{className:gt.a.bottomBar,children:[l?Object(at.jsxs)("div",{onClick:r,children:[u," ",c]}):null,b?Object(at.jsx)("div",{onClick:function(e){s&&s(e)},children:d}):null]})]}):Object(at.jsxs)("div",{className:gt.a.notFound,children:[Object(at.jsx)("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/sAuJeJzSKbUmHfBQRzmZ.svg",alt:"not found"}),Object(at.jsx)("div",{children:i})]})},Tt=a(255),wt=a.n(Tt),It=Ot.a.TabPane,_t=function(e){var t=e.className,a=e.count,n=e.bell,c=Object(dt.a)(!1,{value:e.popupVisible,onChange:e.onPopupVisibleChange}),s=Object(m.a)(c,2),i=s[0],o=s[1],l=$e()(t,wt.a.noticeButton),u=function(){var t=e.children,a=e.loading,n=e.onClear,c=e.onTabChange,s=e.onItemClick,i=e.onViewMore,o=e.clearText,l=e.viewMoreText;if(!t)return null;var u=[];return r.a.Children.forEach(t,(function(e){if(e){var t=e.props,a=t.list,r=t.title,c=t.count,d=t.tabKey,j=t.showClear,b=t.showViewMore,m=a&&a.length?a.length:0,O=c||0===c?c:m,h=O>0?"".concat(r," (").concat(O,")"):r;u.push(Object(at.jsx)(It,{tab:h,children:Object(at.jsx)(yt,Object(p.a)(Object(p.a)({},e.props),{},{clearText:o,viewMoreText:l,data:a,onClear:function(){null===n||void 0===n||n(r,d)},onClick:function(t){null===s||void 0===s||s(t,e.props)},onViewMore:function(t){null===i||void 0===i||i(e.props,t)},showClear:j,showViewMore:b,title:r}))},d))}})),Object(at.jsx)(ht.a,{spinning:a,delay:300,children:Object(at.jsx)(Ot.a,{className:wt.a.tabs,onChange:c,children:u})})}(),d=n||Object(at.jsx)(mt.a,{className:wt.a.icon}),j=Object(at.jsx)("span",{className:$e()(l,{opened:i}),children:Object(at.jsx)(xt.a,{count:a,style:{boxShadow:"none"},className:wt.a.badge,children:d})});return u?Object(at.jsx)(rt,{placement:"bottomRight",overlay:u,overlayClassName:wt.a.popover,trigger:["click"],visible:i,onVisibleChange:o,children:j}):j};_t.defaultProps={emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/wAhyIChODzsoKIOBHcBk.svg"},_t.Tab=yt;var kt=a(394),Ct=a(997),Et=a(998),Dt=a(999),Mt=a(1e3),Lt=a(1001),Nt=a(1002),Ft=a(1003),St=a(521),At=a(193),Rt=a(114),Pt=a(525),Yt=a(992),qt=a(529),Vt=a(179),Ht=a(402),zt=a(50),Bt=a(10),Ut=a.n(Bt),Kt=a(36),Gt=a(494),Jt=a.n(Gt).a.create({baseURL:"http://localhost:5000"});Jt.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var Wt=function(e){return Jt.get("/leaves/".concat(e))},Qt=function(e){return Jt.post("/leaves/range",e)},Xt=function(e,t){return Jt.patch("/leaves/".concat(e),t)},Zt=function(e,t,a){return Jt.get("/leaves/".concat(e,"/").concat(t,"/").concat(a))},$t=function(e){return Jt.get("/leaves/upcoming/".concat(e))},ea=function(e){return Jt.get("/leaves/history/".concat(e))},ta=function(e){return Jt.post("/users/signIn",e)},aa=function(e){return Jt.post("/users/resetPassword",e)},na=function(e){return Jt.post("/users",e)},ra=function(e){return Jt.get("users/".concat(e))},ca=function(e,t){return Jt.patch("/users/".concat(e),t)},sa=function(e){return Jt.get("users/dept/".concat(e))},ia=function(e){return Jt.post("/leaveTypes",e)},oa=function(e){return Jt.get("/leaveTypes/".concat(e))},la=function(e,t){return Jt.patch("/leaveTypes/".concat(e),t)},ua=function(e){return Jt.get("/roles/".concat(e))},da=function(e,t){return Jt.patch("/roles/".concat(e),t)},ja=function(e){return Jt.get("/holidays/".concat(e))},ba=function(e){return Jt.post("/holidays",e)},pa=function(e){return Jt.get("/training/".concat(e))},ma=function(e,t){return Jt.post("/training/".concat(e),t)},Oa=function(e,t){return Jt.patch("/training/".concat(e),t)},ha=function(e,t,a){return Jt.get("/training/ext/".concat(e,"/").concat(t,"/").concat(a))},xa=function(e,t){return Jt.post("/training/ext/".concat(e),t)},fa=function(e){return Jt.get("/training/history/ext/".concat(e))},va=function(e){return Jt.get("/training/history/".concat(e))},ga=function(e){return Jt.get("/training/upcoming/".concat(e))},ya=function(e){return Jt.get("/policy/".concat(e))},Ta=function(e,t){return Jt.patch("/policy/".concat(e),t)},wa=function(e,t){return function(){var a=Object(Kt.a)(Ut.a.mark((function a(n){return Ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.response?(n({type:t,error:e.response.data.message}),h.b.error(e.response.data.message.toString())):e.request?(n({type:t,error:e.request}),h.b.error(e.request.toString())):(n({type:t,error:e.message}),h.b.error(e.message.toString()));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Ia=function(){return function(){var e=Object(Kt.a)(Ut.a.mark((function e(t){var a,n;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:L}),e.next=4,Jt.get("/leaves");case 4:a=e.sent,n=a.data,t({type:E,payload:n}),t({type:N}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),wa(e.t0,F);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},_a=function(e){return function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("test"),a({type:L}),t.next=5,Wt(e);case 5:return n=t.sent,r=n.data,a({type:D,payload:r}),a({type:N}),t.abrupt("return",r);case 12:t.prev=12,t.t0=t.catch(0),wa(t.t0,F);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},ka=function(e,t){return function(){var a=Object(Kt.a)(Ut.a.mark((function a(n){var r,c;return Ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:L}),a.next=4,Xt(e,t);case 4:r=a.sent,c=r.data,n({type:C,payload:c}),n({type:N}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),wa(a.t0,F);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},Ca=function(e){return function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:L}),t.next=4,Qt(e);case 4:n=t.sent,console.log(n),a({type:M,payload:n}),a({type:N}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),wa(t.t0,F);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Ea=function(e,t,a){return function(){var n=Object(Kt.a)(Ut.a.mark((function n(r){var c,s;return Ut.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:L}),n.next=4,Zt(e,t,a);case 4:c=n.sent,s=c.data,r({type:S,payload:s}),r({type:N}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),wa(n.t0,F);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},Da=function(){return function(){var e=Object(Kt.a)(Ut.a.mark((function e(t){var a,n;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:L}),e.next=4,Jt.get("/leaves/date/today");case 4:a=e.sent,n=a.data,t({type:P,payload:n}),t({type:N}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),wa(e.t0,F);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},Ma=function(e){return function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Me}),t.next=4,c=e,Jt.post("/training",c);case 4:n=t.sent,r=n.data,a({type:Ce,payload:r}),a({type:Le}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0.response?(a({type:Ne,error:t.t0.response.data.message}),console.log(t.t0.response.data.message),console.log(t.t0),h.b.error(t.t0.response.data.message.toString())):t.t0.request?(a({type:Ne,error:t.t0.request}),h.b.error(t.t0.request.toString())):(a({type:Ne,error:t.t0.message}),h.b.error(t.t0.message.toString()));case 13:case"end":return t.stop()}var c}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},La=function(e,t,a){return function(){var n=Object(Kt.a)(Ut.a.mark((function n(r){var c,s;return Ut.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:Me}),n.next=4,ha(e,t,a);case 4:c=n.sent,s=c.data,r({type:Ae,payload:s}),r({type:Le}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),wa(n.t0,Ne);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},Na=a(978),Fa=a(979),Sa=a(506),Aa=a(320),Ra=a(322),Pa=a(321),Ya=a(278),qa=a(993),Va=a(508),Ha=a(274),za=(a(67),a(683),function(e){var t=e.props;return Object(at.jsx)("div",{style:{paddingTop:100,paddingBottom:100,textAlign:"center"},className:"antdp-page-loading",children:Object(at.jsx)(ht.a,Object(p.a)({size:"large",tip:"Loading..."},t))})}),Ba=function(){var e=JSON.parse(localStorage.getItem("profile")).result,t=Object(i.c)((function(e){return e.leaves})),a=t.leaves,r=t.isLoading,c=t.todayLeaves,s=Object(i.c)((function(e){return e.trainings})).trainings,o=Object(i.b)(),l=0,u=0,d=0,j=0,b=0,p=0,m=0,O=0,h=0,x=0,v=0,g=0,y=0;Object(n.useEffect)((function(){o(Ia()),o(Da()),o(function(){var e=Object(Kt.a)(Ut.a.mark((function e(t){var a,n;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Me}),e.next=4,Jt.get("/training/date/today");case 4:a=e.sent,n=a.data,t({type:Ve,payload:n}),t({type:Le}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),wa(e.t0,Ne);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[o]),console.log(s);var T=[{name:"Casual",value:e.leaveCount.casual},{name:"Medical",value:e.leaveCount.medical}],w=5,I=[{name:"Hours Completed",value:15},{name:"Hours Required",value:w=w<0?0:w}];a.map((function(e){var t=new Date(e.fromDate);"approve"==e.status&&"casual"==e.leaveType&&t.getMonth()==pt()().subtract(2,"months").month()?y=Math.max(++l,y):"approve"==e.status&&"medical"==e.leaveType&&t.getMonth()==pt()().subtract(2,"months").month()?y=Math.max(++u,y):"approve"==e.status&&"casual"==e.leaveType&&t.getMonth()==pt()().subtract(1,"months").month()?y=Math.max(++d,y):"approve"==e.status&&"medical"==e.leaveType&&t.getMonth()==pt()().subtract(1,"months").month()?y=Math.max(++j,y):"approve"==e.status&&"casual"==e.leaveType&&t.getMonth()==pt()().month()?y=Math.max(++b,y):"approve"==e.status&&"medical"==e.leaveType&&t.getMonth()==pt()().month()?y=Math.max(++p,y):"approve"==e.status&&"casual"==e.leaveType&&t.getMonth()==pt()().add(1,"months").month()?y=Math.max(++m,y):"approve"==e.status&&"medical"==e.leaveType&&t.getMonth()==pt()().add(1,"months").month()?y=Math.max(++O,y):"approve"==e.status&&"casual"==e.leaveType&&t.getMonth()==pt()().add(2,"months").month()?y=Math.max(++h,y):"approve"==e.status&&"medical"==e.leaveType&&t.getMonth()==pt()().add(2,"months").month()?y=Math.max(++x,y):"approve"==e.status&&"casual"==e.leaveType&&t.getMonth()==pt()().add(3,"months").month()?y=Math.max(++v,y):"approve"==e.status&&"medical"==e.leaveType&&t.getMonth()==pt()().add(3,"months").month()&&(y=Math.max(++g,y))}));pt()().subtract(2,"months").format("MMMM"),pt()().subtract(1,"months").format("MMMM"),pt()().format("MMMM"),pt()().add(1,"months").format("MMMM"),pt()().add(2,"months").format("MMMM"),pt()().add(3,"months").format("MMMM");var k=["#0088FE","#2ce654"],C=["#0088FE","#de0b0b"];return!r&&a&&c&&s?Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(St.a.Title,{level:2,children:"Personal Dashboard"}),Object(at.jsxs)(At.a,{gutter:{xs:8,sm:16,md:24,lg:32},children:[Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,sm:12,lg:16,children:Object(at.jsxs)(Pt.a,{bordered:!0,children:[Object(at.jsxs)(Yt.b,{title:"Profile Details",bordered:!0,column:{sm:2,xs:1},children:[Object(at.jsx)(Yt.b.Item,{label:"Name",span:3,children:"".concat(e.first_name," ").concat(e.last_name)}),Object(at.jsx)(Yt.b.Item,{label:"Department",span:2,children:e.department.name}),Object(at.jsx)(Yt.b.Item,{label:"Casual Leaves",span:1,children:e.leaveCount.casual}),Object(at.jsx)(Yt.b.Item,{label:"Total Training Hours Required",span:1,children:20}),Object(at.jsx)(Yt.b.Item,{label:"Medical Leaves",span:1,children:e.leaveCount.medical}),Object(at.jsx)(Yt.b.Item,{label:"Training Hours Completed",span:1,children:15})]}),Object(at.jsx)("br",{}),Object(at.jsx)(qt.a,{message:"Great Training Hours Completed",description:"Almost there! Keep participating in trainings to reach your quota!",type:"success"})]})}),Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,sm:12,lg:8,children:Object(at.jsxs)(Pt.a,{bordered:!0,children:[Object(at.jsx)("h4",{children:"Your Leaves Remaining"}),Object(at.jsx)(Na.a,{minHeight:180,children:Object(at.jsxs)(Fa.a,{data:T,margin:{top:5,right:30,left:20,bottom:5},children:[Object(at.jsx)(Sa.a,{fill:"#0088FE",dataKey:"value",children:T.map((function(e,t){return Object(at.jsx)(Aa.a,{fill:k[t%k.length]},"cell-".concat(t))}))}),Object(at.jsx)(Ra.a,{}),Object(at.jsx)(Pa.a,{dataKey:"name"}),Object(at.jsx)(Ya.a,{})]})}),Object(at.jsx)("h4",{children:"Your Training Hours"}),Object(at.jsx)(Na.a,{minWidth:200,minHeight:210,children:Object(at.jsxs)(qa.a,{children:[Object(at.jsx)(Va.a,{data:I,innerRadius:40,outerRadius:60,fill:"#8884d8",paddingAngle:3,startAngle:-270,dataKey:"value",isAnimationActive:!1,label:function(e){var t=e.x,a=e.y,n=e.value;return Object(at.jsx)("text",{x:t,y:a,fill:"black",textAnchor:"end",alignmentBaseline:"auto",children:n})},labelLine:!1,children:I.map((function(e,t){return Object(at.jsx)(Aa.a,{fill:C[t%C.length]},"cell-".concat(t))}))}),Object(at.jsx)(Ya.a,{}),Object(at.jsx)(Ha.a,{})]})})]})})]}),Object(at.jsx)("br",{}),Object(at.jsx)(St.a.Title,{level:2,children:"Today's Information"}),Object(at.jsxs)(At.a,{gutter:{xs:8,sm:16,md:24,lg:32},children:[Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,sm:12,children:Object(at.jsxs)(Pt.a,{bordered:!0,children:[Object(at.jsx)("b",{children:"Currently on Leave:"}),c&&(c.length?Object(at.jsx)(at.Fragment,{children:Object(at.jsxs)(Ht.a,{dataSource:c,rowKey:"_id",children:[Object(at.jsx)(Ht.a.Column,{title:"Name",dataIndex:"name",render:function(e,t){return"".concat(t.user.first_name," ").concat(t.user.last_name)}}),Object(at.jsx)(Ht.a.Column,{title:"Leave Type",dataIndex:"leaveType",render:function(e,t){return Object(at.jsx)(jt.a,{color:"red",children:e})}},"leaveType"),Object(at.jsx)(Ht.a.Column,{title:"Action",render:function(e,t){return Object(at.jsx)(f.b,{size:"middle",children:Object(at.jsx)(_.b,{to:"leaves/view/".concat(t._id),children:"View"})},t._id)}},"action")]})}):Object(at.jsx)(Vt.a,{})),Object(at.jsx)(zt.a,{type:"danger",children:Object(at.jsx)(_.b,{to:"/leaves",children:"To Leaves"})})]})}),Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,sm:12,children:Object(at.jsxs)(Pt.a,{bordered:!0,children:[Object(at.jsx)("b",{children:"Internal Trainings Today:"}),s&&(s.length?Object(at.jsx)(at.Fragment,{children:Object(at.jsxs)(Ht.a,{dataSource:s,rowKey:"_id",children:[Object(at.jsx)(Ht.a.Column,{title:"Organizer",dataIndex:"name",render:function(e,t){return"".concat(t.user.first_name," ").concat(t.user.last_name)}}),Object(at.jsx)(Ht.a.Column,{title:"Tite",dataIndex:"title"},"title"),Object(at.jsx)(Ht.a.Column,{title:"Action",render:function(e,t){return Object(at.jsx)(f.b,{size:"middle",children:Object(at.jsx)(_.b,{to:"training/view/".concat(t._id),children:"View"})},t._id)}},"action")]})}):Object(at.jsx)(Vt.a,{})),Object(at.jsx)(zt.a,{type:"danger",children:Object(at.jsx)(_.b,{to:"/training",children:"To Trainings"})})]})})]})]}):Object(at.jsx)(za,{})},Ua=a(69),Ka=(a(738),a(202)),Ga=function(){var e=Object(n.useState)(!0),t=Object(m.a)(e,2),a=(t[0],t[1],Object(i.c)((function(e){return e.leaves}))),r=a.leaves,c=a.upcomingLeave,s=a.isLoading,o=JSON.parse(localStorage.getItem("profile")).result,l=(Object(I.g)(),Object(i.b)()),u=0,d=[{name:"Casual",value:o.leaveCount.casual},{name:"Medical",value:o.leaveCount.medical}],j=["#0088FE","#2ce654"];Object(n.useEffect)((function(){var e;l((e=o._id,function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:L}),t.next=4,$t(e);case 4:n=t.sent,r=n.data,a({type:A,payload:r}),a({type:N}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),wa(t.t0,F);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}())),"staff"!=o.roles.name&&l(Ea(o.roles.name,o._id,o.department.name)),console.log(o)}),[l]);var b,p=Object(Ua.a)(r);try{for(p.s();!(b=p.n()).done;){"pending"==b.value.status&&u++}}catch(O){p.e(O)}finally{p.f()}return s?Object(at.jsx)(za,{}):Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(St.a.Title,{level:2,children:"Current Leave Status"}),Object(at.jsxs)(At.a,{gutter:{xs:8,sm:16,md:24,lg:32},children:[Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,md:12,lg:16,children:Object(at.jsx)(Pt.a,{bordered:!0,children:Object(at.jsxs)(Yt.b,{title:"Profile Details",bordered:!0,column:{sm:2,xs:1},children:[Object(at.jsx)(Yt.b.Item,{label:"Name",span:2,children:"".concat(o.first_name," ").concat(o.last_name)}),Object(at.jsx)(Yt.b.Item,{label:"Department",span:2,children:o.department.name}),Object(at.jsx)(Yt.b.Item,{label:"Casual Leaves",span:1,children:o.leaveCount.casual}),Object(at.jsx)(Yt.b.Item,{label:"Medical Leaves",span:1,children:o.leaveCount.medical})]})})}),Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,md:12,lg:8,children:Object(at.jsx)(Pt.a,{bordered:!0,children:Object(at.jsx)(Na.a,{minHeight:215,children:Object(at.jsxs)(Fa.a,{data:d,margin:{top:5,right:30,left:20,bottom:5},children:[Object(at.jsx)(Sa.a,{fill:"#0088FE",dataKey:"value",children:d.map((function(e,t){return Object(at.jsx)(Aa.a,{fill:j[t%j.length]},"cell-".concat(t))}))}),Object(at.jsx)(Ra.a,{}),Object(at.jsx)(Pa.a,{dataKey:"name"}),Object(at.jsx)(Ya.a,{})]})})})})]}),Object(at.jsx)("br",{}),Object(at.jsx)(St.a.Title,{level:2,children:"Quick Overview"}),Object(at.jsxs)(At.a,{gutter:{xs:8,sm:16,md:24,lg:32},children:[Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,sm:12,children:Object(at.jsxs)(Pt.a,{bordered:!0,children:[Object(at.jsx)("b",{children:"Upcoming Leaves:"}),c&&(c.length?Object(at.jsx)(at.Fragment,{children:Object(at.jsxs)(Ht.a,{dataSource:c,rowKey:"_id",children:[Object(at.jsx)(Ht.a.Column,{title:"Title",dataIndex:"title"},"title"),Object(at.jsx)(Ht.a.Column,{title:"Date",dataIndex:"date",render:function(e,t){return pt()(e).format("YYYY-MM-DD")}},"date"),Object(at.jsx)(Ht.a.Column,{title:"Leave Type",dataIndex:"leaveType",render:function(e,t){return Object(at.jsx)(jt.a,{color:"red",children:e})}},"leaveType")]})}):Object(at.jsx)(Vt.a,{})),Object(at.jsx)("br",{}),Object(at.jsxs)(f.b,{children:[Object(at.jsx)(zt.a,{type:"danger",children:Object(at.jsx)(_.b,{to:"/leaves/create",children:"Apply Leave"})}),Object(at.jsx)(zt.a,{type:"danger",children:Object(at.jsx)(_.b,{to:"/leaves/history",children:"To Leaves"})})]})]})}),"staff"!=o.roles.name&&Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,sm:12,children:Object(at.jsxs)(Pt.a,{bordered:!0,children:["Pending Leave Requests:"," ".concat(u),Object(at.jsx)(zt.a,{className:"right-button",type:"danger",children:Object(at.jsx)(_.b,{to:"/leaves/list",children:"To Requests"})})]})})]})]})},Ja={route:{path:"/",routes:[{path:"/",name:"Personal Dashboard",icon:Object(at.jsx)(Ct.a,{}),exact:!0},{path:"/leaves",name:"Leaves",icon:Object(at.jsx)(Et.a,{}),exact:!0},{path:"/training",name:"Training",icon:Object(at.jsx)(Dt.a,{}),routes:[{path:"./",name:"Training Home",icon:Object(at.jsx)(Mt.a,{}),exact:!0},{path:"list",name:"Workshop List",icon:Object(at.jsx)(Lt.a,{})},{path:"history",name:"History",icon:Object(at.jsx)(Nt.a,{})},{path:"/training/submitExt",name:"Apply External",icon:Object(at.jsx)(Ft.a,{})}]}]},location:{pathname:"/"}},Wa=a(1004),Qa=a(1005),Xa=a(347),Za=a(216),$a={route:{path:"/",routes:[{path:"/",name:"Dashboard",icon:Object(at.jsx)(Wa.a,{}),routes:[{path:"/",name:"Personal",icon:Object(at.jsx)(Ct.a,{}),exact:!0},{path:"/supervisor",name:"Department",icon:Object(at.jsx)(Qa.a,{}),exact:!0}]},{path:"/calendar",name:"Calendar",icon:Object(at.jsx)(Xa.a,{}),exact:!0},{path:"/leaves",name:"Leaves",icon:Object(at.jsx)(Et.a,{}),exact:!0},{path:"/training",name:"Training",icon:Object(at.jsx)(Dt.a,{}),routes:[{path:"./",name:"Training Home",icon:Object(at.jsx)(Mt.a,{}),exact:!0},{path:"list",name:"Workshop List",icon:Object(at.jsx)(Lt.a,{})},{path:"history",name:"History",icon:Object(at.jsx)(Nt.a,{})},{path:"submitExt",name:"Apply External",icon:Object(at.jsx)(Ft.a,{})},{path:"extList",name:"External Requests",icon:Object(at.jsx)(Za.a,{})}]},{path:"",name:"Employee",icon:Object(at.jsx)(Wa.a,{}),routes:[{path:"/leaves/list",name:"Leave Request",icon:Object(at.jsx)(Za.a,{}),exact:!0}]}]},location:{pathname:"/"}},en=a(1006),tn=a(1007),an={route:{path:"/",routes:[{path:"/",name:"Dashboard",icon:Object(at.jsx)(Wa.a,{}),routes:[{path:"/",name:"Personal",icon:Object(at.jsx)(Ct.a,{}),exact:!0},{path:"/supervisor",name:"Department",icon:Object(at.jsx)(Qa.a,{}),exact:!0},{path:"/admin",name:"Admin",icon:Object(at.jsx)(en.a,{}),exact:!0}]},{path:"/calendar",name:"Calendar",icon:Object(at.jsx)(Xa.a,{}),exact:!0},{path:"/leaves",name:"Leaves",icon:Object(at.jsx)(Et.a,{}),exact:!0},{path:"/training",name:"Training",icon:Object(at.jsx)(Dt.a,{}),routes:[{path:"./",name:"Training Home",icon:Object(at.jsx)(Mt.a,{}),exact:!0},{path:"create",name:"Create Internal Training",icon:Object(at.jsx)(tn.a,{})},{path:"list",name:"Internal Training List",icon:Object(at.jsx)(Lt.a,{})},{path:"history",name:"Training History",icon:Object(at.jsx)(Nt.a,{})},{path:"submitExt",name:"External Training Request",icon:Object(at.jsx)(Ft.a,{})},{path:"extList",name:"Pending External Requests",icon:Object(at.jsx)(Za.a,{})}]},{path:"./",name:"Employee",icon:Object(at.jsx)(Wa.a,{}),routes:[{path:"/leaves/list",name:"Leave Request",icon:Object(at.jsx)(Za.a,{}),exact:!0}]}]},location:{pathname:"/"}},nn=(a(739),function(e){var t=e.list,a=void 0===t?[]:t,n=e.onClick,r=e.onClear,c=e.title,s=e.onViewMore,i=e.emptyText,o=e.showClear,l=void 0===o||o,u=e.clearText,d=e.viewMoreText,j=e.showViewMore,b=void 0!==j&&j;return a&&0!==a.length?Object(at.jsxs)("div",{children:[Object(at.jsx)(ft.b,{className:"list",dataSource:a,renderItem:function(e,t){var a=$e()("item",Object(ot.a)({},"read",e.read)),r=e.avatar?"string"===typeof e.avatar?Object(at.jsx)(w.a,{className:"avatar",src:e.avatar}):Object(at.jsx)("span",{className:"iconElement",children:e.avatar}):null;return Object(at.jsx)(ft.b.Item,{className:a,onClick:function(){null===n||void 0===n||n(e)},children:Object(at.jsx)(ft.b.Item.Meta,{className:"meta",avatar:r,title:Object(at.jsxs)("div",{className:"title",children:[e.title,Object(at.jsx)("div",{className:"extra",children:e.extra})]}),description:Object(at.jsxs)("div",{children:[Object(at.jsx)("div",{className:"description",children:e.description}),Object(at.jsx)("div",{className:"datetime",children:e.datetime})]})})},e.key||t)}}),Object(at.jsxs)("div",{className:"bottomBar",children:[l?Object(at.jsxs)("div",{onClick:r,children:[u," ",c]}):null,b?Object(at.jsx)("div",{onClick:function(e){s&&s(e)},children:d}):null]})]}):Object(at.jsxs)("div",{className:"notFound",children:[Object(at.jsx)("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/sAuJeJzSKbUmHfBQRzmZ.svg",alt:"not found"}),Object(at.jsx)("div",{children:i})]})}),rn=(a(740),["overlayClassName"]),cn=function(e){var t=e.overlayClassName,a=Object(Qe.a)(e,rn);return Object(at.jsx)(Xe.a,Object(p.a)({overlayClassName:"container ".concat(t)},a))},sn=(a(454),Ot.a.TabPane),on=function(e){var t=e.className,a=e.count,n=e.bell,c=Object(dt.a)(!1,{value:e.popupVisible,onChange:e.onPopupVisibleChange}),s=Object(m.a)(c,2),i=s[0],o=s[1],l=$e()(t,"noticeButton"),u=function(){var t=e.children,a=e.loading,n=e.onClear,c=e.onTabChange,s=e.onItemClick,i=e.onViewMore,o=e.clearText,l=e.viewMoreText;if(!t)return null;var u=[];return r.a.Children.forEach(t,(function(e){if(e){var t=e.props,a=t.list,r=t.title,c=t.count,d=t.tabKey,j=t.showClear,b=t.showViewMore,p=a&&a.length?a.length:0,m=c||0===c?c:p,O=m>0?"".concat(r," (").concat(m,")"):r;u.push(Object(at.jsx)(sn,{tab:O,children:Object(at.jsx)(nn,{clearText:o,viewMoreText:l,list:a,tabKey:d,onClear:function(){return n&&n(r,d)},onClick:function(t){return s&&s(t,e.props)},onViewMore:function(t){return i&&i(e.props,t)},showClear:j,showViewMore:b,title:r})},d))}})),Object(at.jsx)(at.Fragment,{children:Object(at.jsx)(ht.a,{spinning:a,delay:300,children:Object(at.jsx)(Ot.a,{className:"tabs",onChange:c,centered:!0,children:u})})})}(),d=n||Object(at.jsx)(mt.a,{className:"icon"}),j=Object(at.jsx)("span",{className:$e()(l,{opened:i}),children:Object(at.jsx)(xt.a,{count:a,style:{boxShadow:"none"},className:"badge",children:d})});return u?Object(at.jsx)(cn,{placement:"bottomRight",overlay:u,overlayClassName:"popover",trigger:["click"],visible:i,onVisibleChange:o,children:j}):j};on.defaultProps={emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/wAhyIChODzsoKIOBHcBk.svg"},on.Tab=nn;var ln=on,un=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){r([{id:"000000001",avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"\u4f60\u6536\u5230\u4e86 14 \u4efd\u65b0\u5468\u62a5",datetime:"2017-08-09",type:"notification"},{id:"000000002",avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"\u4f60\u63a8\u8350\u7684 \u66f2\u59ae\u59ae \u5df2\u901a\u8fc7\u7b2c\u4e09\u8f6e\u9762\u8bd5",datetime:"2017-08-08",type:"notification"},{id:"000000003",avatar:"https://gw.alipayobjects.com/zos/rmsportal/kISTdvpyTAhtGxpovNWd.png",title:"\u8fd9\u79cd\u6a21\u677f\u53ef\u4ee5\u533a\u5206\u591a\u79cd\u901a\u77e5\u7c7b\u578b",datetime:"2017-08-07",read:!0,type:"notification"},{id:"000000004",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"\u5de6\u4fa7\u56fe\u6807\u7528\u4e8e\u533a\u5206\u4e0d\u540c\u7684\u7c7b\u578b",datetime:"2017-08-07",type:"notification"},{id:"000000005",avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"\u5185\u5bb9\u4e0d\u8981\u8d85\u8fc7\u4e24\u884c\u5b57\uff0c\u8d85\u51fa\u65f6\u81ea\u52a8\u622a\u65ad",datetime:"2017-08-07",type:"notification"},{id:"000000006",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"\u66f2\u4e3d\u4e3d \u8bc4\u8bba\u4e86\u4f60",description:"\u63cf\u8ff0\u4fe1\u606f\u63cf\u8ff0\u4fe1\u606f\u63cf\u8ff0\u4fe1\u606f",datetime:"2017-08-07",type:"message",clickClose:!0},{id:"000000007",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"\u6731\u504f\u53f3 \u56de\u590d\u4e86\u4f60",description:"\u8fd9\u79cd\u6a21\u677f\u7528\u4e8e\u63d0\u9192\u8c01\u4e0e\u4f60\u53d1\u751f\u4e86\u4e92\u52a8\uff0c\u5de6\u4fa7\u653e\u300e\u8c01\u300f\u7684\u5934\u50cf",datetime:"2017-08-07",type:"message",clickClose:!0},{id:"000000008",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"\u6807\u9898",description:"\u8fd9\u79cd\u6a21\u677f\u7528\u4e8e\u63d0\u9192\u8c01\u4e0e\u4f60\u53d1\u751f\u4e86\u4e92\u52a8\uff0c\u5de6\u4fa7\u653e\u300e\u8c01\u300f\u7684\u5934\u50cf",datetime:"2017-08-07",type:"message",clickClose:!0},{id:"000000009",title:"\u4efb\u52a1\u540d\u79f0",description:"\u4efb\u52a1\u9700\u8981\u5728 2017-01-12 20:00 \u524d\u542f\u52a8",extra:"\u672a\u5f00\u59cb",status:"todo",type:"event"},{id:"000000010",title:"\u7b2c\u4e09\u65b9\u7d27\u6025\u4ee3\u7801\u53d8\u66f4",description:"\u51a0\u9716\u63d0\u4ea4\u4e8e 2017-01-06\uff0c\u9700\u5728 2017-01-07 \u524d\u5b8c\u6210\u4ee3\u7801\u53d8\u66f4\u4efb\u52a1",extra:"\u9a6c\u4e0a\u5230\u671f",status:"urgent",type:"event"},{id:"000000011",title:"\u4fe1\u606f\u5b89\u5168\u8003\u8bd5",description:"\u6307\u6d3e\u7af9\u5c14\u4e8e 2017-01-09 \u524d\u5b8c\u6210\u66f4\u65b0\u5e76\u53d1\u5e03",extra:"\u5df2\u8017\u65f6 8 \u5929",status:"doing",type:"event"},{id:"000000012",title:"ABCD \u7248\u672c\u53d1\u5e03",description:"\u51a0\u9716\u63d0\u4ea4\u4e8e 2017-01-06\uff0c\u9700\u5728 2017-01-07 \u524d\u5b8c\u6210\u4ee3\u7801\u53d8\u66f4\u4efb\u52a1",extra:"\u8fdb\u884c\u4e2d",status:"processing",type:"event"}]||[])}),[]);var c=function(e){if(!e||0===e.length||!Array.isArray(e))return{};var t=e.map((function(e){var t=Object(p.a)({},e);if(t.datetime&&(t.datetime=pt()(e.datetime).fromNow()),t.id&&(t.key=t.id),t.extra&&t.status){var a={todo:"",processing:"blue",urgent:"red",doing:"gold"}[t.status];t.extra=Object(at.jsx)(jt.a,{color:a,style:{marginRight:0},children:t.extra})}return t}));return Object(Ka.groupBy)(t,"type")}(a),s=function(e){var t={};return Object.keys(e).forEach((function(a){var n=e[a];t[a]||(t[a]=0),Array.isArray(n)&&(t[a]=n.filter((function(e){return!e.read})).length)})),t}(c||{});return Object(at.jsx)(ln,{className:"action",count:10,onItemClick:function(e){var t;t=e.id,r(a.map((function(e){var a=Object(p.a)({},e);return a.id===t&&(a.read=!0),a})))},onClear:function(e,t){return function(e,t){r(a.map((function(e){var a=Object(p.a)({},e);return a.type===t&&(a.read=!0),a}))),h.b.success("Clear".concat(" ",e))}(e,t)},loading:!1,clearText:"Clear",viewMoreText:"View More",onViewMore:function(){return h.b.info("Click on view more")},clearClose:!0,children:Object(at.jsx)(ln.Tab,{tabKey:"notification",count:s.notification,list:c.notification,title:"Notification",emptyText:"You have no new notifiications",showViewMore:!0})})},dn=(a(741),a(325)),jn=(a(742),Ot.a.TabPane,a(48)),bn=(a(743),function(e){return function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),t.next=4,aa(e);case 4:n=t.sent,r=n.data,a({type:Y,data:r}),a({type:H}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),wa(t.t0,z);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}),pn=St.a.Title,mn=function(){var e=Object(i.b)(),t=Object(I.g)();return Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(pn,{level:2,style:{margin:"0 auto",textAlign:"center",padding:"20px"},children:"Sign In"}),Object(at.jsxs)(jn.a,{labelCol:{span:8},wrapperCol:{span:8},name:"basic",initialValues:{email:"LarLex579@gmail.com",password:"test"},onFinish:function(a){e(function(e,t){return function(){var a=Object(Kt.a)(Ut.a.mark((function a(n){var r,c;return Ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:V}),a.next=4,ta(e);case 4:r=a.sent,c=r.data,n({type:Y,data:c}),n({type:H}),t.push("/"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),wa(a.t0,z);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(a,t))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(at.jsx)(jn.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please insert your email"}],children:Object(at.jsx)(ut.a,{autoFocus:!0})}),Object(at.jsx)(jn.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(at.jsx)(ut.a.Password,{})}),Object(at.jsx)(jn.a.Item,{wrapperCol:{offset:10},children:Object(at.jsx)(zt.a,{type:"primary",htmlType:"submit",children:"Sign In"})})]}),Object(at.jsx)("div",{style:{textAlign:"center"},children:Object(at.jsx)(_.b,{to:"/resetPassword",children:"Forgot Password"})})]})},On=a(86),hn=a(88),xn=a(990),fn=(a(744),function(){return function(){var e=Object(Kt.a)(Ut.a.mark((function e(t){var a,n;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:le}),e.next=4,Jt.get("/leaveTypes");case 4:a=e.sent,n=a.data,t({type:ie,payload:n}),t({type:ue}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),wa(e.t0,de);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}),vn=a(535),gn=a(355),yn=a(1008),Tn=ut.a.TextArea,wn=On.a.RangePicker,In=hn.a.Option,_n=St.a.Text,kn=function(){var e=Object(I.g)(),t=Object(I.i)().id,a=JSON.parse(localStorage.getItem("profile")).result,r=Object(i.c)((function(e){return e.leaves})).leave,c=Object(i.c)((function(e){return e.leaveTypes})).leaveTypes,s=jn.a.useForm(),o=Object(m.a)(s,1)[0],l=Object(n.useState)(null),u=Object(m.a)(l,2),d=u[0],j=u[1],b=Object(i.b)();Object(n.useEffect)((function(){b(fn()),console.log(c),t&&b(_a(t)).then((function(e){o.setFieldsValue(Object(p.a)(Object(p.a)({},e),{},{"range-picker":[pt()(e.fromDate),pt()(e.toDate)]}))}))}),[b,t]);return Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)("h2",{className:"form-header",children:"Apply for Leave"}),Object(at.jsxs)(jn.a,{form:o,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(e){j(null);var n=new FormData;if(e.upload){var r,c=Object(Ua.a)(e.upload);try{for(c.s();!(r=c.n()).done;){var s=r.value;s.originFileObj&&n.append("files",s.originFileObj)}}catch(O){c.e(O)}finally{c.f()}}var i=e["range-picker"],o=i[0],l=i[1],u=a.leaveCount[e.leaveType],d=function(e,t){for(var a=pt()(e),n=0;a.isSameOrBefore(t,"day");)[0,6].includes(a.day())||n++,a.add(1,"d");return n}(o,l),p={title:e.title,reason:e.reason,leaveType:e.leaveType,user:a._id,department:a.department._id,fromDate:o.format("YYYY-MM-DD HH:mm"),toDate:l.format("YYYY-MM-DD HH:mm")};Object.entries(p).forEach((function(e){var t=Object(m.a)(e,2),a=t[0],r=t[1];n.append(a,r)})),u>=d?b(t?ka(t,n):function(e){return function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:L}),t.next=4,c=e,Jt.post("/leaves",c);case 4:n=t.sent,r=n.data,a({type:k,payload:r}),a({type:N}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),wa(t.t0,F);case 13:case"end":return t.stop()}var c}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(n)):j("Insufficient leave balance")},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(at.jsx)(jn.a.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please insert a title!"}],children:Object(at.jsx)(ut.a,{})}),Object(at.jsx)(jn.a.Item,{label:"Reason",name:"reason",rules:[{required:!0,message:"Please input your reason!"}],children:Object(at.jsx)(Tn,{rows:4})}),Object(at.jsx)(jn.a.Item,{label:"Leave Type",name:"leaveType",rules:[{required:!1,message:"Please input your leaveType!"}],children:Object(at.jsx)(hn.a,{children:c.map((function(e){return Object(at.jsx)(In,{value:e.code,children:e.name},e._id)}))})}),Object(at.jsx)(jn.a.Item,{label:"Date",name:"range-picker",rules:[{required:!0,message:"Please input your date!"}],children:Object(at.jsx)(wn,{})}),Object(at.jsx)(jn.a.Item,{name:"upload",label:"Upload",valuePropName:"fileList",getValueFromEvent:function(e){return console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList},children:Object(at.jsx)(xn.a.Dragger,{name:"logo",listType:"picture",beforeUpload:function(e){return console.log("?????false",e),!1},customRequest:function(e){e.file;var t=e.onSuccess;setTimeout((function(){t("ok")}),0)},defaultFileList:function(){var e;return t?(null===r||void 0===r||null===(e=r.attachments)||void 0===e?void 0:e.map((function(e){return{uid:e.fileId,name:e.fileName,status:"done",url:"http://localhost:5000/".concat(e.filePath)}})))||[]:null},showUploadList:{showDownloadIcon:!0,downloadIcon:function(e){return"done"==e.status?Object(at.jsx)(vn.a,{}):Object(at.jsx)(at.Fragment,{})},showRemoveIcon:!0,removeIcon:function(e){return"done"==e.status?Object(at.jsx)(at.Fragment,{}):Object(at.jsx)(gn.a,{})}},children:Object(at.jsx)(zt.a,{icon:Object(at.jsx)(yn.a,{}),children:"Click to upload"})})}),Object(at.jsxs)(jn.a.Item,{wrapperCol:{offset:8,span:16},children:[d&&Object(at.jsx)(_n,{type:"danger",children:d}),Object(at.jsx)("br",{}),Object(at.jsx)("br",{}),Object(at.jsx)("br",{}),Object(at.jsx)(zt.a,{type:"primary",htmlType:"submit",children:"Submit"}),Object(at.jsx)(zt.a,{type:"secondary",htmlType:"button",onClick:function(){return e.goBack()},children:"Back"})]})]})]})},Cn=(a(745),function(){return function(){var e=Object(Kt.a)(Ut.a.mark((function e(t){var a,n;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:J}),e.next=4,Jt.get("/users");case 4:a=e.sent,n=a.data,t({type:K,payload:n}),t({type:W}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),wa(e.t0,Q);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}),En=function(e){return function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:J}),t.next=4,ra(e);case 4:return n=t.sent,r=n.data,a({type:G,payload:r}),a({type:W}),t.abrupt("return",r);case 11:t.prev=11,t.t0=t.catch(0),wa(t.t0,Q);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},Dn=function(e){return function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:J}),t.next=4,sa(e);case 4:n=t.sent,r=n.data,a({type:X,payload:r}),a({type:W}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),wa(t.t0,Q);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Mn=function(){var e=Object(i.c)((function(e){return e.leaves})),t=e.leave,a=e.isLoading,r=Object(i.b)(),c=Object(n.useState)(!0),s=Object(m.a)(c,2),o=s[0],l=s[1],u=Object(I.g)(),d=Object(I.i)().id;Object(n.useEffect)((function(){r(_a(d)).then((function(){return l(!1)}))}),[r,d]);var j=function(e){r(ka(d,Object(p.a)(Object(p.a)({},t),{},{status:e}))),"approve"==e&&r(En(t.user._id)).then((function(e){console.log(e);var a=e.leaveCount[t.leaveType]-(pt.a.duration(pt()(t.toDate).diff(pt()(t.fromDate))).asDays()+1);r(function(e,t){return function(){var a=Object(Kt.a)(Ut.a.mark((function a(n){var r,c;return Ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:J}),a.next=4,ca(e,t);case 4:r=a.sent,c=r.data,n({type:U,payload:c}),n({type:W}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),wa(a.t0,Q);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(e._id,Object(p.a)(Object(p.a)({},e),{},{leaveCount:Object(p.a)(Object(p.a)({},e.leaveCount),{},Object(ot.a)({},t.leaveType,a))})))}))};return o||a?Object(at.jsx)(za,{}):Object(at.jsxs)(at.Fragment,{children:[Object(at.jsxs)(Yt.b,{title:"Leave Info",bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1},children:[Object(at.jsx)(Yt.b.Item,{label:"Requester",span:3,children:"".concat(t.user.first_name," ").concat(t.user.last_name)}),Object(at.jsx)(Yt.b.Item,{label:"Department",span:3,children:t.department.name}),Object(at.jsx)(Yt.b.Item,{label:"Title",span:3,children:t.title}),Object(at.jsx)(Yt.b.Item,{label:"Reason",span:3,children:t.reason}),Object(at.jsx)(Yt.b.Item,{label:"Start Date",span:1,children:pt()(t.fromDate).format("YYYY-MM-DD")}),Object(at.jsx)(Yt.b.Item,{label:"End Date",span:2,children:pt()(t.toDate).format("YYYY-MM-DD")}),Object(at.jsx)(Yt.b.Item,{label:"Status",span:3,children:Object(at.jsx)(xt.a,{status:"pending"==t.status?"processing":"approve"==t.status?"success":"error",text:t.status})})]}),Object(at.jsxs)(f.b,{children:[Object(at.jsx)(zt.a,{onClick:function(){return u.goBack()},children:"Back"}),"pending"==t.status&&Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(zt.a,{className:"btn-success",onClick:function(){return j("approve")},children:"Approve"}),Object(at.jsx)(zt.a,{danger:!0,onClick:function(){return j("reject")},children:"Reject"})]})]})]})},Ln=function(){return function(){var e=Object(Kt.a)(Ut.a.mark((function e(t){var a,n;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ae}),e.next=4,Jt.get("/depts");case 4:a=e.sent,n=a.data,t({type:te,payload:n}),t({type:ne}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),wa(e.t0,re);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},Nn=a(125),Fn=a(99),Sn=a.n(Fn),An=function(){var e=Object(i.c)((function(e){return e.leaves})),t=e.leaves,a=e.isLoading,r=Object(i.c)((function(e){return e.depts})).depts,c=Object(i.c)((function(e){return e.leaveTypes})).leaveTypes,s=JSON.parse(localStorage.getItem("profile")).result,o=(Object(I.g)(),[]),l=[],d=Object(i.b)();Object(n.useEffect)((function(){d(Ea(s.roles.name,s._id,s.department.name)),d(Ln()),d(fn())}),[d]),"admin"==s.roles.name&&r.map((function(e){o.push({text:e.name,value:e.name})})),c.map((function(e){l.push({text:e.name,value:e.code})}));var j=[{title:"Employee Name",dataIndex:"user",key:"user",valueType:"text",render:function(e,t){return"".concat(e.first_name," ").concat(e.last_name)}},{title:"Department",dataIndex:["department","name"],key:"department",filters:o,onFilter:function(e,t){return 0===t.department.name.indexOf(e)}},{title:"Title",dataIndex:"title",key:"title"},{title:"Leave Type",dataIndex:"leaveType",key:"leaveType",filters:l,onFilter:function(e,t){return 0===t.leaveType.indexOf(e)},render:function(e,t){return Object(at.jsx)(jt.a,{color:"red",children:e})}},{title:"Start Date",dataIndex:"fromDate",key:"fromDate",valueType:"date",sorter:function(e,t){return pt()(e.fromDate)-pt()(t.fromDate)},render:function(e,t){return pt()(t.fromDate).format("YYYY-MM-DD")}},{title:"End Date",dataIndex:"toDate",key:"toDate",valueType:"date",sorter:function(e,t){return pt()(e.toDate)-pt()(t.toDate)},render:function(e,t){return pt()(t.toDate).format("YYYY-MM-DD")}},{title:"Status",dataIndex:"status",key:"status",filters:[{text:"Pending",value:"pending"},{text:"Approved",value:"approve"},{text:"Rejected",value:"reject"}],onFilter:function(e,t){return 0===t.status.indexOf(e)},render:function(e,t){return Object(at.jsx)(xt.a,{status:"pending"==t.status?"processing":"approve"==t.status?"success":"error",text:t.status})}},{title:"Action",key:"_id",valueType:"option",render:function(e,t){return Object(at.jsx)(f.b,{size:"middle",children:Object(at.jsx)(_.b,{to:"view/".concat(t._id),children:"View"})},t._id)}}],b=Object(n.useRef)();return a?Object(at.jsx)(za,{}):Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)("h2",{children:"Leave Requests"}),t.length?Object(at.jsx)(at.Fragment,{children:Object(at.jsx)(u.b,{locale:Sn.a,children:Object(at.jsx)(Nn.a,{columns:j,actionRef:b,request:function(e,a,n){var r=t.reverse();return e&&Object.keys(e).length>0&&(r=r.filter((function(t){return Object.keys(e).every((function(a){if(console.log(Object.keys(e)),!e[a])return!0;if("pageSize"==a||"current"==a)return!0;if("all"==e[a])return!0;var n=t[a];return"user"==a?n="".concat(t.user.first_name," ").concat(t.user.last_name):"department"==a&&(n="".concat(t.department.name)),!n||-1!=n.search(new RegExp(".*"+e[a]+".*","gi"))}))}))),Promise.resolve({data:r,success:!0})},rowKey:"_id",pagination:{pageSize:10,showQuickJumper:!0},search:{layout:"vertical",defaultCollapsed:!0,span:6},dateFormatter:"string",toolbar:{title:"Tips:",tooltip:"Use the search bar above or filter icons on the columns for easy record finding"},toolBarRender:function(){return[Object(at.jsx)(f.b,{children:Object(at.jsx)(zt.a,{type:"primary",children:Object(at.jsx)(_.b,{to:"/leaves/create",children:"Apply Leave"})})})]}})})}):Object(at.jsx)(Vt.a,{})]})},Rn=function(){var e,t=Object(i.c)((function(e){return e.leaves})),a=t.leaves,r=t.isLoading,c=Object(i.c)((function(e){return e.leaveTypes})).leaveTypes,s=JSON.parse(localStorage.getItem("profile")).result,o=Object(I.g)(),l=Object(i.b)(),d=[];Object(n.useEffect)((function(){var e;l((e=s._id,function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:L}),t.next=4,ea(e);case 4:n=t.sent,r=n.data,a({type:R,payload:r}),a({type:N}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),wa(t.t0,F);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}())),l(fn())}),[l]),c.map((function(e){d.push({text:e.name,value:e.code})}));var j=Object(n.useRef)(),b=[{title:"Title",dataIndex:"title",key:"title"},{title:"Leave Type",dataIndex:"leaveType",key:"leaveType",filters:d,onFilter:function(e,t){return 0===t.leaveType.indexOf(e)},render:function(e,t){return Object(at.jsx)(jt.a,{color:"red",children:e})}},{title:"Start Date",dataIndex:"fromDate",key:"fromDate",valueType:"date",sorter:function(e,t){return pt()(e.fromDate)-pt()(t.fromDate)},render:function(e,t){return pt()(t.fromDate).format("YYYY-MM-DD")}},{title:"End Date",dataIndex:"toDate",key:"toDate",valueType:"date",sorter:function(e,t){return pt()(e.toDate)-pt()(t.toDate)},render:function(e,t){return pt()(t.toDate).format("YYYY-MM-DD")}},{title:"Status",dataIndex:"status",key:"status",filters:[{text:"Pending",value:"pending"},{text:"Approved",value:"approve"},{text:"Rejected",value:"reject"}],onFilter:function(e,t){return 0===t.status.indexOf(e)},render:function(e,t){return Object(at.jsx)(xt.a,{status:"pending"==t.status?"processing":"approve"==t.status?"success":"error",text:t.status})}},{title:"Action",key:"_id",valueType:"option",render:function(e,t){return Object(at.jsxs)(f.b,{size:"middle",children:[Object(at.jsx)(_.b,{to:"view/".concat(t._id),children:"View"}),"pending"==t.status&&Object(at.jsx)(_.b,{to:"/leaves/edit/".concat(t._id),children:"Edit"})]},t._id)}}];return r?Object(at.jsx)(za,{}):Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)("h2",{children:"My Leave Applications"}),Object(at.jsx)(f.b,{style:{marginBottom:16},children:Object(at.jsx)(zt.a,{onClick:function(){o.push("/leaves/create")},children:"Apply Leave"})}),a.length?Object(at.jsx)(at.Fragment,{children:Object(at.jsx)(u.b,{locale:Sn.a,children:Object(at.jsx)(Nn.a,(e={rowKey:"id",columns:b,actionRef:j,request:function(e,t,n){var r=a.reverse();return n&&Object.keys(n).length>0&&(r=r.filter((function(e){return Object.keys(n).some((function(t){return!n[t]||!!n[t].includes("".concat(e[t]))}))}))),e&&Object.keys(e).length>0&&(r=r.filter((function(t){return Object.keys(e).every((function(a){if(!e[a])return!0;if("pageSize"==a||"current"==a)return!0;if("all"==e[a])return!0;var n=t[a];return"user"==a?n="".concat(t.user.first_name," ").concat(t.user.last_name):"department"==a&&(n="".concat(t.department.name)),!n||-1!=n.search(new RegExp(".*"+e[a]+".*","gi"))}))}))),Promise.resolve({data:r,success:!0})}},Object(ot.a)(e,"rowKey","_id"),Object(ot.a)(e,"pagination",{pageSize:10,showQuickJumper:!0}),Object(ot.a)(e,"search",{layout:"vertical",defaultCollapsed:!0,span:6}),Object(ot.a)(e,"dateFormatter","string"),Object(ot.a)(e,"toolbar",{title:"Tips:",tooltip:"Use the search bar above or filter icons on the columns for easy record finding"}),Object(ot.a)(e,"toolBarRender",(function(){return[Object(at.jsx)(zt.a,{type:"primary",children:Object(at.jsx)(_.b,{to:"/leaves/create",children:"Apply Leave"})},"primary")]})),e))})}):Object(at.jsx)(Vt.a,{}),Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"/leaves/",children:"Back"})})]})},Pn=a(89),Yn=(a(845),function(){return function(){var e=Object(Kt.a)(Ut.a.mark((function e(t){var a,n;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:he}),e.next=4,Jt.get("/roles");case 4:a=e.sent,n=a.data,t({type:me,payload:n}),t({type:xe}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),wa(e.t0,fe);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}),qn=function(e){return function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Ge}),t.next=4,ya(e);case 4:n=t.sent,r=n.data,a({type:Ke,payload:r}),a({type:Je}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),wa(t.t0,We);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Vn=(ut.a.TextArea,On.a.RangePicker,hn.a.Option),Hn=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=(t[0],t[1],Object(n.useState)({emp_id:"",first_name:"",last_name:"",email:"",employment_date:"",password:"test",department:"",roles:""})),r=Object(m.a)(a,2),c=(r[0],r[1],Object(i.b)());Object(n.useEffect)((function(){c(Yn()),c(Ln()),c(fn()),c(qn({name:"defaultPolicy"}))}),[c]);var s=Object(i.c)((function(e){return e.depts})).depts,o=Object(i.c)((function(e){return e.roles})).roles,l=(Object(i.c)((function(e){return e.policy})).policy,Object(i.c)((function(e){return e.leaveTypes})).leaveTypes);return Object(at.jsxs)(jn.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(e){var t;c((t={emp_id:e.emp_id,first_name:e.first_name,last_name:e.last_name,email:e.email,employment_date:e.employment_date.format("YYYY-MM-DD"),password:"test",department:e.department,roles:e.roles},function(){var e=Object(Kt.a)(Ut.a.mark((function e(a){var n,r;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:J}),e.next=4,na(t);case 4:n=e.sent,r=n.data,a({type:B,payload:r}),a({type:W}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response?(a({type:Q,error:e.t0.response.data.message}),h.b.error(e.t0.response.data.message.toString())):e.t0.request?(a({type:Q,error:e.t0.request}),h.b.error(e.t0.request.toString())):(a({type:Q,error:e.t0.message}),h.b.error(e.t0.message.toString()));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(at.jsx)(jn.a.Item,{label:"Employee ID",name:"emp_id",rules:[{required:!0,message:"Please insert a title!"}],children:Object(at.jsx)(ut.a,{})}),Object(at.jsx)(jn.a.Item,{label:"First Name",name:"first_name",rules:[{required:!0,message:"Please insert a title!"}],children:Object(at.jsx)(ut.a,{})}),Object(at.jsx)(jn.a.Item,{label:"Last Name",name:"last_name",rules:[{required:!0,message:"Please input your reason!"}],children:Object(at.jsx)(ut.a,{})}),l.map((function(e){return Object(at.jsx)(jn.a.Item,{label:e.name,name:e.name,initialValue:e.count,rules:[{required:!0,message:"Please input your reason!"}],children:Object(at.jsx)(Pn.a,{})},e._id)})),Object(at.jsx)(jn.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your leaveType!"}],children:Object(at.jsx)(ut.a,{type:"email"})}),Object(at.jsx)(jn.a.Item,{label:"Employment Date",name:"employment_date",rules:[{required:!0,message:"Please insert a title!"}],children:Object(at.jsx)(On.a,{placeholder:"hi",onChange:function(e){var t=a.stacked,a=a.list;if(a){var n=pt()("2025-01-01"),r=pt()(e),c=n.diff(r,"years");console.log(c);var s=0,i=a.filter((function(e){return"after"==e.condition1})),o=a.filter((function(e){return"every"==e.condition1})),l=0;i.forEach((function(e){c>=e.year&&(t?s+=e.increase:e.year>l&&(s=e.increase,l=e.year))})),o.forEach((function(e){var t=c/e.year;s+=t*e.increase})),console.log(s)}}})}),Object(at.jsx)(jn.a.Item,{label:"Department",name:"department",rules:[{required:!0,message:"Please insert a title!"}],children:Object(at.jsx)(hn.a,{children:s.map((function(e){return Object(at.jsx)(Vn,{value:e._id,children:e.name},e._id)}))})}),Object(at.jsx)(jn.a.Item,{label:"Roles",name:"roles",rules:[{required:!0,message:"Please insert a title!"}],children:Object(at.jsx)(hn.a,{children:o.map((function(e){return Object(at.jsx)(Vn,{value:e._id,children:e.name},e._id)}))})}),Object(at.jsxs)(jn.a.Item,{wrapperCol:{offset:8,span:16},children:[Object(at.jsx)(zt.a,{type:"primary",htmlType:"submit",children:"Submit"}),Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"/users",children:"Back"})})]})]})},zn=(a(846),Ht.a.Column),Bn=function(){var e=Object(i.c)((function(e){return e.depts})).depts,t=Object(i.b)();console.log(e),Object(n.useEffect)((function(){t(Ln())}),[t]);var a=Object(I.g)();return Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(f.b,{style:{marginBottom:16},children:Object(at.jsx)(zt.a,{onClick:function(){a.push("/depts/create")},children:"Create New Department"})}),e.length?Object(at.jsxs)(at.Fragment,{children:[Object(at.jsxs)(Ht.a,{dataSource:e,rowKey:"_id",children:[Object(at.jsx)(zn,{title:"Code",dataIndex:"code"},"code"),Object(at.jsx)(zn,{title:"Name",dataIndex:"name"},"name"),Object(at.jsx)(zn,{title:"Action",render:function(e,t){return Object(at.jsx)(f.b,{size:"middle",children:Object(at.jsx)(zt.a,{danger:!0,onClick:function(){},children:"Delete"})})}},"action")]}),Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"/",children:"Back"})})]}):Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)("br",{}),Object(at.jsx)(ht.a,{size:"large"})]})]})},Un=(a(847),St.a.Title),Kn=function(){var e=Object(i.b)();Object(I.g)();return Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(Un,{level:2,children:" Create Department"}),Object(at.jsxs)(jn.a,{name:"basic",initialValues:{remember:!0},onFinish:function(t){var a;console.log("Success:",t),e((a=t,function(){var e=Object(Kt.a)(Ut.a.mark((function e(t){var n,r;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ae}),e.next=4,c=a,Jt.post("/depts",c);case 4:n=e.sent,r=n.data,t({type:Z,payload:r}),t({type:ne}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),wa(e.t0,re);case 13:case"end":return e.stop()}var c}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(at.jsx)(jn.a.Item,{label:"Code",name:"code",rules:[{required:!0,message:"Please insert your code"}],children:Object(at.jsx)(ut.a,{autoFocus:!0})}),Object(at.jsx)(jn.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(at.jsx)(ut.a,{})}),Object(at.jsxs)(jn.a.Item,{wrapperCol:{offset:8,span:16},children:[Object(at.jsx)(zt.a,{type:"primary",htmlType:"submit",children:"Submit"}),Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"/depts",children:"Back"})})]})]})]})},Gn=a(298),Jn=(a(848),Ht.a.Column),Wn=Gn.a.useBreakpoint,Qn=function(){var e=Object(i.c)((function(e){return e.users})),t=e.users,a=e.isLoading,r=(e.error,Object(i.b)());Object(n.useEffect)((function(){r(Cn())}),[r]);var c=Object(I.g)(),s=Wn();return a?Object(at.jsx)(ht.a,{size:"large"}):(console.log(t),Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(f.b,{style:{marginBottom:16},children:Object(at.jsx)(zt.a,{onClick:function(){c.push("/users/create")},children:"Add User"})}),Object(at.jsx)("br",{}),a?Object(at.jsx)(at.Fragment,{children:Object(at.jsx)(ht.a,{size:"large"})}):[s.xs?Object(at.jsx)(ft.b,{itemLayout:"vertical",size:"large",dataSource:t,renderItem:function(e){return Object(at.jsxs)(ft.b.Item,{actions:[Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"users/view/".concat(e._id),children:"View"})})],children:[Object(at.jsx)(ft.b.Item.Meta,{title:e.emp_id}),e.first_name," ",e.last_name]},e._id)}}):Object(at.jsxs)(at.Fragment,{children:[Object(at.jsxs)(Ht.a,{dataSource:t,rowKey:"_id",children:[Object(at.jsx)(Jn,{title:"Employee ID",dataIndex:"emp_id"},"emp_id"),Object(at.jsx)(Jn,{title:"Name",render:function(e,t){return Object(at.jsxs)("div",{children:[t.first_name," ",t.last_name]})}},"name"),Object(at.jsx)(Jn,{title:"Department",dataIndex:["department","name"]},"department.name"),Object(at.jsx)(Jn,{title:"Roles",dataIndex:["roles","name"]},"roles.name"),Object(at.jsx)(Jn,{title:"Action",render:function(e,t){return Object(at.jsx)(f.b,{size:"middle",children:Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"users/view/".concat(t._id),children:"View"})})})}},"action")]}),Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"/",children:"Back"})})]})]]}))},Xn=(a(849),function(){var e=Object(i.c)((function(e){return e.users})).user,t=Object(i.b)(),a=(Object(I.g)(),Object(I.i)().id);return Object(n.useEffect)((function(){t(En(a))}),[t,a]),e?(console.log(e),Object(at.jsxs)(at.Fragment,{children:[Object(at.jsxs)(Yt.b,{title:"User Info",bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1},children:[Object(at.jsx)(Yt.b.Item,{label:"Employee ID",children:e.emp_id}),Object(at.jsx)(Yt.b.Item,{label:"First Name",children:e.first_name}),Object(at.jsx)(Yt.b.Item,{label:"Last Name",children:e.last_name}),Object(at.jsx)(Yt.b.Item,{label:"Email",children:e.email}),Object(at.jsx)(Yt.b.Item,{label:"Department",children:e.department.name}),Object(at.jsx)(Yt.b.Item,{label:"Employment Date",children:pt()(e.employment_date).format("YYYY-MM-DD")})]}),Object(at.jsx)(Yt.b,{title:"Leave Balance",bordered:!0,children:Object.entries(e.leaveCount).map((function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(at.jsx)(Yt.b.Item,{label:a,children:n},a)}))}),Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"/users",children:"Back"})})]})):null}),Zn=a(524),$n=a(470),er=a(471),tr=a(472),ar=(a(850),a(261),a(227)),nr=(ut.a.TextArea,On.a.RangePicker,function(){var e=Object(I.i)().id,t=Object(n.useState)("#39f983"),a=Object(m.a)(t,2),r=(a[0],a[1],Object(i.c)((function(e){return e.leaveTypes}))),c=(r.leaveType,r.isLoading),s=Object(n.useState)(!1),o=Object(m.a)(s,2),l=(o[0],o[1]),d=Object(n.useState)({code:"sample",color:"blue"}),j=Object(m.a)(d,2),b=j[0],p=j[1],O=jn.a.useForm(),h=Object(m.a)(O,1)[0],x=Object(i.b)();Object(n.useEffect)((function(){e&&(l(!0),x(function(e){return function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:le}),t.next=4,oa(e);case 4:return n=t.sent,r=n.data,a({type:oe,payload:r}),a({type:ue}),t.abrupt("return",r);case 11:t.prev=11,t.t0=t.catch(0),wa(t.t0,de);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(e)).then((function(e){h.setFieldsValue(e),l(!1)})))}),[x,e]);return c?Object(at.jsx)(ar.a,{}):Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(u.b,{locale:Sn.a,children:Object(at.jsxs)(Zn.a,{onValuesChange:function(e,t){console.log(e,t),""!=t.code&&""!=t.color&&p(t)},form:h,name:"basic",layout:"horizontal",labelCol:{span:8},onFinish:function(t){var a;x(e?function(e,t){return function(){var a=Object(Kt.a)(Ut.a.mark((function a(n){var r,c;return Ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:le}),a.next=4,la(e,t);case 4:r=a.sent,c=r.data,n({type:se,payload:c}),n({type:ue}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),wa(a.t0,de);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(e,t):(a=t,function(){var e=Object(Kt.a)(Ut.a.mark((function e(t){var n,r;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:le}),e.next=4,ia(a);case 4:n=e.sent,r=n.data,t({type:ce,payload:r}),t({type:ue}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),wa(e.t0,de);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",formKey:"base-form-use-demo",submitter:{resetButtonProps:{style:{display:"none"}},render:function(e,t){return Object(at.jsx)(jn.a.Item,{wrapperCol:{offset:8},children:Object(at.jsx)(f.b,{children:t})})}},children:[Object(at.jsx)($n.a,{name:"code",label:"Code",placeholder:"Enter code",width:"md",rules:[{required:!0,message:"Please input your reason!"}]}),Object(at.jsx)($n.a,{name:"name",label:"Name",placeholder:"Enter Name",width:"md",rules:[{required:!0,message:"Please input your reason!"}]}),Object(at.jsx)(er.a,{name:"count",label:"Count",width:"md",rules:[{required:!0,message:"Please input your reason!"}]}),Object(at.jsx)(tr.a,{name:"color",initialValue:"blue",label:"color",rules:[{required:!0,message:"Please enter color"}]})]})}),Object(at.jsx)(At.a,{children:Object(at.jsx)(Rt.a,{offset:8,children:Object(at.jsxs)(f.b,{children:["Preview:",Object(at.jsx)(jt.a,{color:b.color,children:b.code})]})})})]})}),rr=(a(867),Ht.a.Column),cr=function(){var e=Object(i.c)((function(e){return e.leaveTypes})).leaveTypes,t=Object(i.b)();console.log(e),Object(n.useEffect)((function(){t(fn())}),[t]);var a=Object(I.g)();return Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(f.b,{style:{marginBottom:16},children:Object(at.jsx)(zt.a,{onClick:function(){a.push("/leaveTypes/create")},children:"Create New Leave Type"})}),e.length?Object(at.jsxs)(at.Fragment,{children:[Object(at.jsxs)(Ht.a,{dataSource:e,rowKey:"_id",children:[Object(at.jsx)(rr,{title:"Code",dataIndex:"code"},"code"),Object(at.jsx)(rr,{title:"Name",dataIndex:"name"},"name"),Object(at.jsx)(rr,{title:"Count",dataIndex:"count"},"count"),Object(at.jsx)(rr,{title:"Action",render:function(e,t){return Object(at.jsx)(f.b,{size:"middle",children:Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"/leaveTypes/edit/".concat(t._id),children:"Edit"})})})}},"action")]}),Object(at.jsx)(zt.a,{type:"secondary",htmlType:"button",children:Object(at.jsx)(_.b,{to:"/",children:"Back"})})]}):Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)("br",{}),Object(at.jsx)(ht.a,{size:"large"})]})]})},sr=(a(868),Ht.a.Column),ir=function(){var e=Object(i.c)((function(e){return e.roles})).roles,t=Object(i.b)();Object(n.useEffect)((function(){t(Yn())}),[t]);var a=Object(I.g)();return Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(f.b,{style:{marginBottom:16},children:Object(at.jsx)(zt.a,{onClick:function(){a.push("/roles/create")},children:"Add Roles"})}),Object(at.jsx)("br",{}),e.length?Object(at.jsx)(at.Fragment,{children:Object(at.jsxs)(Ht.a,{dataSource:e,rowKey:"_id",children:[Object(at.jsx)(sr,{title:"Roles",dataIndex:"name"},"name"),Object(at.jsx)(sr,{title:"Action",render:function(e,t){return Object(at.jsx)(f.b,{size:"middle",children:Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"roles/edit/".concat(t._id),children:"Edit"})})})}},"action")]})}):Object(at.jsx)(at.Fragment,{children:Object(at.jsx)(ht.a,{size:"large"})}),Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"/",children:"Back"})})]})},or=a(150),lr=(a(869),"LEAVE_VIEW_ALL"),ur="LEAVE_APPROVE",dr="ROLES_ASSIGN",jr=[{modules:"HISTORY",permissions:[{name:"View Own Leave",code:"LEAVE_VIEW_SELF"},{name:"View Department Leave",code:"LEAVE_VIEW_DEPT"},{name:"View All Leave",code:lr},{name:"Approve Leave",code:ur}]},{modules:"Other",permissions:[{name:"Assign roles",code:dr}]}],br=function(){var e=jr.map((function(e){return e.modules})),t=Object(I.i)().id,a=Object(i.c)((function(e){return e.roles})).role,r=jn.a.useForm(),c=Object(m.a)(r,1)[0],s=Object(i.b)();Object(n.useEffect)((function(){if(t){s(function(e){return function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:he}),t.next=4,ua(e);case 4:n=t.sent,r=n.data,a({type:Oe,payload:r}),a({type:xe}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),wa(t.t0,fe);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t));var n=e.map((function(e){return Object(ot.a)({},e,a.permissions)}));c.setFieldsValue(Object(p.a)(Object(p.a)({},a),n))}}),[s,t]);return Object(at.jsxs)(jn.a,{form:c,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(a){console.log(a);var n,r=[],c=Object(Ua.a)(e);try{for(c.s();!(n=c.n()).done;){var i=n.value;r=r.concat(a[i])}}catch(o){c.e(o)}finally{c.f()}console.log(r),s(t?function(e,t){return function(){var a=Object(Kt.a)(Ut.a.mark((function a(n){var r,c;return Ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:he}),a.next=4,da(e,t);case 4:r=a.sent,c=r.data,n({type:pe,payload:c}),n({type:xe}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),wa(a.t0,fe);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(t,Object(p.a)(Object(p.a)({},a),{},{permissions:r})):function(e){return function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:he}),t.next=4,c=e,Jt.post("/roles",c);case 4:n=t.sent,r=n.data,a({type:be,payload:r}),a({type:xe}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),wa(t.t0,fe);case 13:case"end":return t.stop()}var c}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(Object(p.a)(Object(p.a)({},a),{},{permissions:r})))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(at.jsx)(jn.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please insert a role name!"}],children:Object(at.jsx)(ut.a,{onChange:function(){}})}),Object(at.jsx)(jn.a.Item,{label:"Code",name:"code",rules:[{required:!0,message:"Please insert a role name!"}],children:Object(at.jsx)(ut.a,{})}),jr.map((function(e){var t=e.permissions.map((function(e){return{key:e.code,label:e.name,value:e.code}}));return Object(at.jsx)(at.Fragment,{children:Object(at.jsx)(jn.a.Item,{wrapperCol:{offset:7,span:16},labelCol:{offset:7,span:24},name:e.modules,label:e.modules,children:Object(at.jsx)(or.a.Group,{options:t,defaultValue:[]})},e.modules)})})),Object(at.jsx)(jn.a.Item,{wrapperCol:{offset:8,span:16},children:Object(at.jsxs)(f.b,{children:[Object(at.jsx)(zt.a,{type:"primary",htmlType:"submit",children:"Submit"}),Object(at.jsx)(zt.a,{type:"secondary",htmlType:"button",children:Object(at.jsx)(_.b,{to:"/roles",children:"Back"})})]})})]})},pr=(a(870),a(330)),mr=a(403),Or=a(104),hr=a(406),xr=(a(467),a(875),St.a.Text),fr=function(){var e=Object(n.useState)({imageUrl:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",loading:!1}),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),s=Object(m.a)(c,2),i=(s[0],s[1],JSON.parse(localStorage.getItem("profile")).result);console.log("user",i);var o=function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},l=function(e){console.log(e,"here"),o(e.fileList[0].originFileObj,(function(e){return r({imageUrl:e,loading:!1})})),console.log(a)};var u=Object(at.jsxs)("div",{children:[a.loading?Object(at.jsx)(Or.a,{}):Object(at.jsx)(hr.a,{}),Object(at.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),d=function(){return Object(at.jsx)(mr.a,{rotate:!0,children:Object(at.jsx)(xn.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:j,onChange:l,accept:"image/*",children:a.imageUrl?Object(at.jsx)("img",{src:a.imageUrl,alt:"avatar",style:{width:"100%"}}):u})})},j=function(e){return console.log("?????false",e),!1};return Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(pr.a,{children:Object(at.jsx)(xr,{style:{fontSize:23},children:"Profile Page"})}),Object(at.jsx)("center",{children:Object(at.jsx)("div",{children:Object(at.jsx)(d,{})})}),Object(at.jsxs)(Yt.b,{title:"Profile Details",bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1},children:[Object(at.jsx)(Yt.b.Item,{label:"Emoployee ID",children:i.emp_id}),Object(at.jsx)(Yt.b.Item,{label:"First Name",children:i.first_name}),Object(at.jsx)(Yt.b.Item,{label:"Last Name",children:i.last_name}),Object(at.jsx)(Yt.b.Item,{label:"Department",children:i.department.name}),Object(at.jsx)(Yt.b.Item,{label:"Employment Date",children:pt()(i.employment_date).format("YYYY-MM-DD")}),Object(at.jsx)(Yt.b.Item,{label:"Roles",children:i.roles.name})]}),Object(at.jsx)(Yt.b,{title:"Leave Balance",bordered:!0,children:Object.entries(i.leaveCount).map((function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(at.jsx)(Yt.b.Item,{label:a,children:n},a)}))}),Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"/",children:"Back to Home"})})]})},vr=a(526),gr=a(345),yr=a(530),Tr=a(531),wr=a(532),Ir=0,_r=(new Date).toISOString().replace(/T.*$/,""),kr=new Date("2021-10-03"),Cr=new Date("2021-10-08");Er(),Er(),Er();function Er(){return String(Ir++)}a(881);var Dr=Gn.a.useBreakpoint,Mr=function(){var e=Object(i.b)(),t=Dr(),a=Object(I.g)(),r=Object(n.createRef)(),c=Object(n.useState)({fromDate:pt()(),toDate:pt()()}),s=Object(m.a)(c,2),o=s[0],l=s[1],u=Object(n.useState)({}),d=Object(m.a)(u,2),j=(d[0],d[1],Object(i.c)((function(e){return e.leaves}))),b=j.leaves,p=j.isLoading;j.error;Object(n.useEffect)((function(){p||(t.xs?r.current.getApi().changeView("listMonth"):r.current.getApi().changeView("dayGridMonth"))}),[t]);var O=function(){var t=Object(Kt.a)(Ut.a.mark((function t(a,n,r){var c,s;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=pt()(a.start),s=pt()(a.end),console.log(0!=o.fromDate.diff(c)&&0!=o.toDate.diff(s)),0!=o.fromDate.diff(c)&&0!=o.toDate.diff(s)&&(l({fromDate:c,toDate:s}),e(Ca({fromDate:c,toDate:s}))),n(b),console.log("here");case 6:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}();return Object(at.jsx)(at.Fragment,{children:Object(at.jsx)("div",{className:"demo-app",children:Object(at.jsx)("div",{className:"demo-app-main",children:Object(at.jsx)(vr.a,{ref:r,plugins:[gr.b,yr.a,Tr.a,wr.a],headerToolbar:{left:"prevYear,prev,next,nextYear",center:"title",right:"today dayGridMonth,listMonth"},initialView:"dayGridMonth",dayMaxEvents:!0,weekends:!0,businessHours:{daysOfWeek:[1,2,3,4,5]},events:O,eventContent:function(e){return Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)("b",{children:e.timeText}),Object(at.jsx)("i",{children:e.event.title}),Object(at.jsx)("i",{children:e.event.extendedProps.emp_id})]})},eventClick:function(e){"background"!=e.event.display&&a.push(e.event.url)}})})})})},Lr=["component","requiredPermissions","matchAllPermissions"];var Nr=function(e){var t=e.component,a=e.requiredPermissions,n=void 0===a?null:a,r=e.matchAllPermissions,c=void 0!==r&&r,s=Object(Qe.a)(e,Lr),i=JSON.parse(localStorage.getItem("profile")),o=!0;return n&&(c?(o=n.every((function(e){return-1!==[ur,dr,lr].indexOf(e)})),console.log(o)):o=[ur,dr,lr].some((function(e){return-1!==n.indexOf(e)}))),Object(at.jsx)(I.b,Object(p.a)(Object(p.a)({},s),{},{render:function(e){return i&&o?Object(at.jsx)(t,Object(p.a)({},e)):Object(at.jsx)(I.a,{to:"/auth"})}}))},Fr=["component"];for(var Sr=function(e){var t=e.component,a=Object(Qe.a)(e,Fr),n=JSON.parse(localStorage.getItem("profile"));return Object(at.jsx)(I.b,Object(p.a)(Object(p.a)({},a),{},{render:function(e){return n?Object(at.jsx)(I.a,{to:"/"}):Object(at.jsx)(t,Object(p.a)({},e))}}))},Ar=(a(882),hn.a.Option,function(){Object(n.useEffect)((function(){!function(){if("Notification"in window)if("granted"===Notification.permission)new Notification("Hi there!");else"denied"!==Notification.permission&&Notification.requestPermission().then((function(e){if("granted"===e)new Notification("Hi there!")}));else alert("This browser does not support desktop notification")}()}),[]);return Object(at.jsx)(at.Fragment,{})}),Rr=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(i.b)(),s=Object(i.c)((function(e){return e.users})),o=s.isLoading,l=s.error,u=function(){var e=Object(Kt.a)(Ut.a.mark((function e(t){return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(bn(t.email)),o||l||h.b.success("Email sent"),r(!0),console.log("Success:",t),console.log(a&&!o&&!l);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(St.a.Title,{level:2,style:{textAlign:"center"},children:"Reset Password"}),Object(at.jsxs)(jn.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:8},onFinish:u,onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(at.jsx)(jn.a.Item,{label:"Password",name:"password",initialValue:"test",rules:[{required:!0,message:"Please input your email!"}],children:Object(at.jsx)(ut.a,{})}),Object(at.jsx)(jn.a.Item,{label:"Confirm Password",name:"confirmPassword",initialValue:"test",rules:[{required:!0,message:"Please input your email!"}],children:Object(at.jsx)(ut.a,{})}),a&&!o&&!l&&Object(at.jsx)(qt.a,{message:"Email sent",type:"success"}),Object(at.jsx)(jn.a.Item,{wrapperCol:{offset:11},children:Object(at.jsx)(zt.a,{type:"primary",htmlType:"submit",children:"Submit"})})]}),Object(at.jsx)("div",{style:{textAlign:"center"},children:Object(at.jsx)(_.b,{to:"/auth",children:"Back to Login"})})]})},Pr=function(){var e,t=Object(i.c)((function(e){return e.holidays})).holidays,a=pt()(),r=Object(i.b)(),c=Object(n.useState)(a.year().toString()),s=Object(m.a)(c,2),o=s[0],l=s[1];return Object(n.useEffect)((function(){r(function(e){return function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:we}),t.next=4,ja(e);case 4:n=t.sent,r=n.data,a({type:ke,payload:r}),a({type:Ie}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),wa(t.t0,_e);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(o))}),[r,o]),Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(St.a.Title,{level:1,children:"Holidays"}),Object(at.jsx)(On.a,{onChange:function(e,t){l(t)},picker:"year",defaultValue:a}),Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"/holidays/create/".concat(o),children:"Add New Holiday"})}),(null===t||void 0===t||null===(e=t.lists)||void 0===e?void 0:e.length)?Object(at.jsx)(at.Fragment,{children:Object(at.jsxs)(Ht.a,{dataSource:t.lists,rowKey:"_id",style:{"overflow-x":"scroll"},children:[Object(at.jsx)(Ht.a.Column,{title:"Title",dataIndex:"title"},"title"),Object(at.jsx)(Ht.a.Column,{title:"Start Date",dataIndex:"startDate",render:function(e,t){return pt()(e).format("YYYY-MM-DD")}},"startDate"),Object(at.jsx)(Ht.a.Column,{title:"End Date",dataIndex:"endDate",render:function(e,t){return pt()(e).format("YYYY-MM-DD")}},"endDate")]})}):Object(at.jsx)(Vt.a,{}),Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"/",children:"Back"})})]})},Yr=(a(883),St.a.Title),qr=function(){var e=Object(i.b)(),t=(Object(I.g)(),Object(I.i)().id);return Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(Yr,{level:2,children:" Create Department"}),Object(at.jsxs)(jn.a,{name:"basic",initialValues:{remember:!0},onFinish:function(a){console.log("Success:",a);var n,r=a["range-picker"],c=r[0],s=r[1];e((n={year:t,holiday:{title:a.title,decription:a.description,startDate:c,endDate:s}},function(){var e=Object(Kt.a)(Ut.a.mark((function e(t){var a,r;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:we}),e.next=4,ba(n);case 4:a=e.sent,r=a.data,t({type:ve,payload:r}),t({type:Ie}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),wa(e.t0,_e);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(at.jsx)(jn.a.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please input your title!"}],children:Object(at.jsx)(ut.a,{})}),Object(at.jsx)(jn.a.Item,{label:"description",name:"description",children:Object(at.jsx)(ut.a.TextArea,{rows:4})}),Object(at.jsx)(jn.a.Item,{label:"Date",name:"range-picker",rules:[{required:!0,message:"Please input your date!"}],children:Object(at.jsx)(On.a.RangePicker,{})}),Object(at.jsxs)(jn.a.Item,{wrapperCol:{offset:8,span:16},children:[Object(at.jsx)(zt.a,{type:"primary",htmlType:"submit",children:"Submit"}),Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"/holidays",children:"Back"})})]})]})]})},Vr=a(215),Hr=a(473),zr=function(e,t){return isNaN(e)&&isNaN(t)?(e||"").localeCompare(t||""):e-t},Br={0:"close",1:"running",2:"online",3:"error"},Ur=[],Kr=["\u4ed8\u5c0f\u5c0f","\u66f2\u4e3d\u4e3d","\u6797\u4e1c\u4e1c","\u9648\u5e05\u5e05","\u517c\u67d0\u67d0"],Gr=0;Gr<100;Gr+=1)Ur.push({key:Gr,name:"AppName",containers:Math.floor(20*Math.random()),creator:Kr[Math.floor(Math.random()*Kr.length)],status:Br[Math.floor(10*Math.random())%4],createdAt:Date.now()-Math.floor(2e3*Math.random()),money:Math.floor(2e3*Math.random())*Gr,progress:Math.ceil(100*Math.random())+1,memo:Gr%2===1?"\u5f88\u957f\u5f88\u957f\u5f88\u957f\u5f88\u957f\u5f88\u957f\u5f88\u957f\u5f88\u957f\u7684\u6587\u5b57\u8981\u5c55\u793a\u4f46\u662f\u8981\u7559\u4e0b\u5c3e\u5df4":"\u7b80\u77ed\u5907\u6ce8\u6587\u6848"});at.Fragment,v.a,g.a;var Jr=[{title:"Index",dataIndex:"index",valueType:"indexBorder",key:"index",width:48},{title:"Title",dataIndex:"title",key:"title",render:function(e,t){return"".concat(t.title," ").concat(t.leaveType)},sorter:function(e,t){return zr(e.title,t.title)}},{title:"Start Date",dataIndex:"fromDate",key:"fromDate",valueType:"date",render:function(e,t){return pt()(e).format("y-MM-DD")},sorter:function(e,t){return zr(e.fromDate,t.fromDate)}}],Wr=Object(at.jsxs)(T.a,{children:[Object(at.jsx)(T.a.Item,{children:"1st item"},"1"),Object(at.jsx)(T.a.Item,{children:"2nd item"},"2"),Object(at.jsx)(T.a.Item,{children:"3rd item"},"3")]}),Qr=function(){var e=Object(i.c)((function(e){return e.leaves})).leaves,t=Object(n.useState)(e),a=Object(m.a)(t,2),r=a[0],c=(a[1],Object(n.useRef)());return Object(at.jsx)(u.b,{locale:Sn.a,children:Object(at.jsx)(Nn.a,{columns:Jr,actionRef:c,request:function(e,t,a){var n=r;return a&&Object.keys(a).length>0&&(n=n.filter((function(e){return Object.keys(a).some((function(t){return!a[t]||!!a[t].includes("".concat(e[t]))}))}))),e&&Object.keys(e).length>0&&(n=n.filter((function(t){return Object.keys(e).every((function(a){return!e[a]||("pageSize"==a||"current"==a||("all"==e[a]||-1!=t[a].search(new RegExp(".*"+e[a]+".*","gi"))))}))}))),Promise.resolve({data:n,success:!0})},rowKey:"key",pagination:{pageSize:10,showQuickJumper:!0},search:{layout:"vertical",defaultCollapsed:!1},dateFormatter:"string",toolbar:{title:"\u9ad8\u7ea7\u8868\u683c",tooltip:"\u8fd9\u662f\u4e00\u4e2a\u6807\u9898\u63d0\u793a"},toolBarRender:function(){return[Object(at.jsx)(zt.a,{danger:!0,children:"\u5371\u9669\u6309\u94ae"},"danger"),Object(at.jsx)(zt.a,{children:"\u67e5\u770b\u65e5\u5fd7"},"show"),Object(at.jsx)(zt.a,{type:"primary",children:Object(at.jsx)(_.b,{to:"/leaves/create",children:"Apply Leave"})},"primary"),Object(at.jsx)(Xe.a,{overlay:Wr,children:Object(at.jsx)(zt.a,{children:Object(at.jsx)(Vr.a,{})})},"menu")]}})})},Xr=(a(885),function(){var e=Object(n.useState)(!0),t=Object(m.a)(e,2),a=(t[0],t[1],Object(i.c)((function(e){return e.trainings}))),r=a.trainings,c=a.upcomingTraining,s=a.isLoading,o=JSON.parse(localStorage.getItem("profile")).result,l=(Object(I.g)(),Object(i.b)()),u=0,d=[{name:"Hours Completed",value:15},{name:"Hours Required",value:5}],j=["#0088FE","#de0b0b"];Object(n.useEffect)((function(){var e;console.log(o),l((e=o._id,function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Me}),t.next=4,ga(e);case 4:n=t.sent,r=n.data,a({type:qe,payload:r}),a({type:Le}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),wa(t.t0,Ne);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}())),"staff"!=o.roles.name&&l(La(o.roles.name,o._id,o.department.name))}),[l]);var b,p=Object(Ua.a)(r);try{for(p.s();!(b=p.n()).done;){"pending"==b.value.status&&u++}}catch(O){p.e(O)}finally{p.f()}return console.log("trainings",r),console.log("upcoming",c),s?Object(at.jsx)(za,{}):Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(St.a.Title,{level:2,children:"Current Training Status"}),Object(at.jsxs)(At.a,{gutter:{xs:8,sm:16,md:24,lg:32},children:[Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,md:12,lg:16,children:Object(at.jsx)(Pt.a,{bordered:!0,children:Object(at.jsxs)(Yt.b,{title:"Profile Details",bordered:!0,column:{sm:2,xs:1},children:[Object(at.jsx)(Yt.b.Item,{label:"Name",span:2,children:"".concat(o.first_name," ").concat(o.last_name)}),Object(at.jsx)(Yt.b.Item,{label:"Department",span:2,children:o.department.name}),Object(at.jsx)(Yt.b.Item,{label:"Total Training Hours Required",span:1,children:20}),Object(at.jsx)(Yt.b.Item,{label:"Training Hours Completed",span:1,children:15})]})})}),Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,md:12,lg:8,children:Object(at.jsx)(Pt.a,{bordered:!0,children:Object(at.jsx)(Na.a,{minWidth:200,minHeight:200,children:Object(at.jsxs)(qa.a,{children:[Object(at.jsx)(Va.a,{data:d,innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:3,startAngle:-270,dataKey:"value",isAnimationActive:!1,label:function(e){var t=e.x,a=e.y,n=e.value;return Object(at.jsx)("text",{x:t,y:a,fill:"black",textAnchor:"end",alignmentBaseline:"auto",children:n})},labelLine:!1,children:d.map((function(e,t){return Object(at.jsx)(Aa.a,{fill:j[t%j.length]},"cell-".concat(t))}))}),Object(at.jsx)(Ya.a,{}),Object(at.jsx)(Ha.a,{})]})})})})]}),Object(at.jsx)("br",{}),Object(at.jsx)(St.a.Title,{level:2,children:"Quick Overview"}),Object(at.jsxs)(At.a,{gutter:{xs:8,sm:16,md:24,lg:32},children:[Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,sm:12,children:Object(at.jsxs)(Pt.a,{bordered:!0,children:[Object(at.jsx)("b",{children:"Upcoming Trainings:"}),c&&(c.length?Object(at.jsx)(at.Fragment,{children:Object(at.jsxs)(Ht.a,{dataSource:c,rowKey:"_id",children:[Object(at.jsx)(Ht.a.Column,{title:"Organizer",render:function(e,t){return"internal"==t.trainingType?"".concat(t.user.first_name," ").concat(t.user.last_name):"".concat(t.organization)}}),Object(at.jsx)(Ht.a.Column,{title:"Title",dataIndex:"title"},"title"),Object(at.jsx)(Ht.a.Column,{title:"Date",dataIndex:"date",render:function(e,t){return pt()(e).format("YYYY-MM-DD")}},"date")]})}):Object(at.jsx)(Vt.a,{})),Object(at.jsx)(zt.a,{type:"danger",children:Object(at.jsx)(_.b,{to:"/training/history",children:"To Trainings"})})]})}),"staff"!=o.roles.name&&Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,sm:12,children:Object(at.jsxs)(Pt.a,{bordered:!0,children:["Pending External Training Requests:"," ".concat(u),Object(at.jsx)(zt.a,{className:"right-button",type:"danger",children:Object(at.jsx)(_.b,{to:"/training/extList",children:"To Requests"})})]})})]})]})}),Zr=a(252),$r=(a(886),ut.a.TextArea),ec=On.a.RangePicker,tc=(hn.a.Option,St.a.Text),ac=function(){var e=Object(I.i)().id,t=JSON.parse(localStorage.getItem("profile")).result,a=Object(i.c)((function(e){return e.trainings})),r=(a.isLoading,a.training),c=jn.a.useForm(),s=Object(m.a)(c,1)[0],o=Object(n.useState)(null),l=Object(m.a)(o,2),u=l[0],d=l[1],j=Object(i.b)();return Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)("h2",{className:"form-header",children:"Organize Internal Training"}),Object(at.jsxs)(jn.a,{form:s,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(e){d(null);var a=new FormData;if(e.upload){var n,r=Object(Ua.a)(e.upload);try{for(r.s();!(n=r.n()).done;){var c=n.value;c.originFileObj&&a.append("files",c.originFileObj)}}catch(O){r.e(O)}finally{r.f()}}var s=e.date,i=s[0],o=s[1],l=e.time,u=l[0],b=l[1],p={user:t._id,trainer:e.trainer,title:e.title,description:e.description,fromDate:i.format("YYYY-MM-DD"),toDate:o.format("YYYY-MM-DD"),fromTime:u.format("HH:mm"),toTime:b.format("HH:mm"),duration:e.duration,trainingType:"internal"};Object.entries(p).forEach((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1];a.append(n,r)})),j(Ma(a))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(at.jsx)(jn.a.Item,{label:"Trainer",name:"trainer",rules:[{required:!0,message:"Please enter a trainer!"}],children:Object(at.jsx)(ut.a,{})}),Object(at.jsx)(jn.a.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please insert a title!"}],children:Object(at.jsx)(ut.a,{})}),Object(at.jsx)(jn.a.Item,{label:"Description",name:"description",rules:[{required:!0,message:"Please input your training description!"}],children:Object(at.jsx)($r,{rows:4})}),Object(at.jsx)(jn.a.Item,{label:"Date",name:"date",disabledDate:function(e){return e&&e<pt()().endOf("day")},rules:[{required:!0,message:"Please input your date!"}],children:Object(at.jsx)(ec,{})}),Object(at.jsx)(jn.a.Item,{label:"Time",name:"time",rules:[{required:!0,message:"Please input your time!"}],children:Object(at.jsx)(Zr.a.RangePicker,{})}),Object(at.jsx)(jn.a.Item,{name:"upload",label:"Supporting Documents",valuePropName:"fileList",getValueFromEvent:function(e){return console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList},children:Object(at.jsx)(xn.a.Dragger,{name:"logo",listType:"picture",beforeUpload:function(e){return console.log("?????false",e),!1},customRequest:function(e){e.file;var t=e.onSuccess;setTimeout((function(){t("ok")}),0)},defaultFileList:function(){var t;return e?(null===r||void 0===r||null===(t=r.attachments)||void 0===t?void 0:t.map((function(e){return{uid:e.fileId,name:e.fileName,status:"done",url:"http://localhost:5000/".concat(e.filePath)}})))||[]:null},showUploadList:{showDownloadIcon:!0,downloadIcon:function(e){return"done"==e.status?Object(at.jsx)(vn.a,{}):Object(at.jsx)(at.Fragment,{})},showRemoveIcon:!0,removeIcon:function(e){return"done"==e.status?Object(at.jsx)(at.Fragment,{}):Object(at.jsx)(gn.a,{})}},children:Object(at.jsx)(zt.a,{icon:Object(at.jsx)(yn.a,{}),children:"Click to upload"})})}),Object(at.jsxs)(jn.a.Item,{wrapperCol:{offset:8,span:16},children:[u&&Object(at.jsx)(tc,{type:"danger",children:u}),Object(at.jsx)("br",{}),Object(at.jsx)("br",{}),Object(at.jsx)("br",{}),Object(at.jsx)(zt.a,{type:"primary",htmlType:"submit",children:"Submit"})]})]})]})},nc=function(){var e=Object(i.c)((function(e){return e.trainings})),t=e.trainings,a=e.isLoading,r=Object(i.c)((function(e){return e.depts})).depts,c=(Object(I.g)(),[]),s=Object(i.b)();Object(n.useEffect)((function(){s(function(){var e=Object(Kt.a)(Ut.a.mark((function e(t){var a,n;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Me}),e.next=4,Jt.get("/training");case 4:a=e.sent,n=a.data,t({type:Ee,payload:n}),t({type:Le}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response?(t({type:Ne,error:e.t0.response.data.message}),h.b.error(e.t0.response.data.message.toString())):e.t0.request?(t({type:Ne,error:e.t0.request}),h.b.error(e.t0.request.toString())):(t({type:Ne,error:e.t0.message}),h.b.error(e.t0.message.toString()));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),s(Ln())}),[s]),console.log(t),r.forEach((function(e){c.push({text:e.name,value:e.name})}));var o=[{title:"Organizer",dataIndex:"user",key:"user",valueType:"text",render:function(e,t){return"".concat(e.first_name," ").concat(e.last_name)}},{title:"Department",dataIndex:["department","name"],key:"department",filters:c,onFilter:function(e,t){return 0===t.department.name.indexOf(e)}},{title:"Title",dataIndex:"title",key:"title"},{title:"Date",dataIndex:"date",key:"date",valueType:"date",sorter:function(e,t){return pt()(e.date)-pt()(t.date)},render:function(e,t){return pt()(t.date).format("YYYY-MM-DD")}},{title:"Time",dataIndex:"time",key:"time",hideInSearch:!0},{title:"Duration(hours)",dataIndex:"duration",key:"duration",hideInSearch:!0},{title:"Attendants",dataIndex:"attendants",key:"attendants",hideInSearch:!0,sorter:function(e,t){return pt()(e.attendants.length)-pt()(t.attendants.length)},render:function(e,t){return t.attendants.length}},{title:"Action",key:"_id",valueType:"option",render:function(e,t){return Object(at.jsx)(f.b,{size:"middle",children:Object(at.jsx)(_.b,{to:"view/".concat(t._id),children:"View"})},t._id)}}],l=Object(n.useRef)();return a?Object(at.jsx)(za,{}):Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)("h2",{children:"Internal Training List"}),t.length?Object(at.jsx)(at.Fragment,{children:Object(at.jsx)(u.b,{locale:Sn.a,children:Object(at.jsx)(Nn.a,{columns:o,actionRef:l,request:function(e,a,n){var r=t.reverse();return e&&Object.keys(e).length>0&&(r=r.filter((function(t){return Object.keys(e).every((function(a){if(console.log(Object.keys(e)),!e[a])return!0;if("pageSize"==a||"current"==a)return!0;if("all"==e[a])return!0;var n=t[a];return"user"==a?n="".concat(t.user.first_name," ").concat(t.user.last_name):"department"==a&&(n="".concat(t.department.name)),!n||-1!=n.search(new RegExp(".*"+e[a]+".*","gi"))}))}))),Promise.resolve({data:r,success:!0})},rowKey:"_id",pagination:{pageSize:10,showQuickJumper:!0},search:{layout:"vertical",defaultCollapsed:!0,span:6},dateFormatter:"string",toolbar:{title:"Tips:",tooltip:"Use the search bar above or filter icons on the columns for easy record finding"},toolBarRender:function(){return[Object(at.jsxs)(f.b,{children:[Object(at.jsx)(zt.a,{type:"primary",children:Object(at.jsx)(_.b,{to:"/training/create",children:"Organize Training"})}),Object(at.jsx)(zt.a,{type:"primary",children:Object(at.jsx)(_.b,{to:"/training/submitExt",children:"Submit External Training Request"})})]})]}})})}):Object(at.jsx)(Vt.a,{})]})},rc=(a(887),a(1009)),cc=function(){var e=Object(i.c)((function(e){return e.trainings})),t=e.isLoading,a=e.training,r=JSON.parse(localStorage.getItem("profile")).result,c=Object(i.b)(),s=Object(I.g)(),o=Object(I.i)().id;Object(n.useEffect)((function(){c(function(e){return function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Me}),t.next=4,pa(e);case 4:n=t.sent,r=n.data,a({type:De,payload:r}),a({type:Le}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0.response?(a({type:Ne,error:t.t0.response.data.message}),h.b.error(t.t0.response.data.message.toString())):t.t0.request?(a({type:Ne,error:t.t0.request}),h.b.error(t.t0.request.toString())):(a({type:Ne,error:t.t0.message}),h.b.error(t.t0.message.toString()));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(o))}),[o]);var l=function(e){c(function(e,t){return function(){var a=Object(Kt.a)(Ut.a.mark((function a(n){var r,c;return Ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:Me}),a.next=4,ma(e,t);case 4:r=a.sent,c=r.data,n({type:Fe,payload:c}),n({type:Le}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),a.t0.response?(n({type:Ne,error:a.t0.response.data.message}),console.log(a.t0.response.data.message),console.log(a.t0)):a.t0.request?(n({type:Ne,error:a.t0.request}),h.b.error(a.t0.request.toString())):(n({type:Ne,error:a.t0.message}),h.b.error(a.t0.message.toString()));case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(o,{user_id:e}))},u=function(e){c(function(e,t){return function(){var a=Object(Kt.a)(Ut.a.mark((function a(n){var r,c;return Ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:Me}),a.next=4,Oa(e,t);case 4:r=a.sent,c=r.data,n({type:Se,payload:c}),n({type:Le}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),wa(a.t0,Ne);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(o,{user_id:e}))},d=function(e){c(function(e,t){return function(){var a=Object(Kt.a)(Ut.a.mark((function a(n){var r,c;return Ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:Me}),a.next=4,xa(e,t);case 4:r=a.sent,c=r.data,n({type:Re,payload:c}),n({type:Le}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),wa(a.t0,Ne);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(o,Object(p.a)(Object(p.a)({},a),{},{status:e})))};return console.log(a),a?t?Object(at.jsx)(za,{}):Object(at.jsxs)(at.Fragment,{children:[Object(at.jsxs)(Yt.b,{style:{marginBottom:16},title:"Training Info",bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1},children:["external"==a.trainingType&&Object(at.jsx)(Yt.b.Item,{label:"Requester",span:3,children:"".concat(a.user.first_name," ").concat(a.user.last_name)}),Object(at.jsx)(Yt.b.Item,{label:"Title",span:3,children:a.title}),Object(at.jsx)(Yt.b.Item,{label:"Description",span:3,children:a.description}),Object(at.jsx)(Yt.b.Item,{label:"Training Type",span:3,children:a.trainingType}),Object(at.jsx)(Yt.b.Item,{label:"Organizer",span:3,children:"internal"==a.trainingType?Object(at.jsx)(at.Fragment,{children:"".concat(a.user.first_name," ").concat(a.user.last_name)}):Object(at.jsx)(at.Fragment,{children:"".concat(a.organization)})}),Object(at.jsx)(Yt.b.Item,{label:"Date",span:1,children:pt()(a.date).format("YYYY-MM-DD")}),Object(at.jsx)(Yt.b.Item,{label:"Time",span:2,children:a.time}),"internal"==a.trainingType&&Object(at.jsx)(Yt.b.Item,{label:"Attendants",span:3,children:0!=a.attendants.length?Object(at.jsx)(at.Fragment,{children:Object(at.jsx)(ft.b,{size:"small",split:"true",dataSource:a.attendants,renderItem:function(e){return Object(at.jsx)(ft.b.Item,{children:"".concat(e.first_name," ").concat(e.last_name)})}})}):Object(at.jsx)("div",{children:"No data"})}),Object(at.jsx)(Yt.b.Item,{label:"Supporting Documents",span:3,children:0!=a.attachments.length?Object(at.jsx)(at.Fragment,{children:Object(at.jsx)(xn.a,{className:"showFiles",defaultFileList:function(){var e;return o?(console.log(a),(null===a||void 0===a||null===(e=a.attachments)||void 0===e?void 0:e.map((function(e){return{uid:e.fileId,name:e.fileName,status:"done",url:"http://localhost:5000/".concat(e.filePath)}})))||[]):null},showUploadList:{showDownloadIcon:!0,downloadIcon:Object(at.jsx)(rc.a,{}),showRemoveIcon:!1}})}):Object(at.jsx)("div",{children:"None"})}),"external"==a.trainingType&&Object(at.jsx)(Yt.b.Item,{label:"Status",span:3,children:Object(at.jsx)(xt.a,{status:"pending"==a.status?"processing":"approve"==a.status?"success":"error",text:a.status})})]}),Object(at.jsxs)(f.b,{children:[Object(at.jsx)(zt.a,{onClick:function(){return s.goBack()},children:"Back"}),a.user._id==r._id||a.attendants.some((function(e){return e._id===r._id}))||"internal"!=a.trainingType?a.user._id!=r._id&&"internal"==a.trainingType?Object(at.jsx)(at.Fragment,{children:Object(at.jsx)(zt.a,{className:"btn-success",onClick:function(){return u(r._id)},children:"Cancel Attendance"})}):a.user._id!=r._id&&"external"==a.trainingType&&"pending"==a.status&&Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(zt.a,{className:"btn-success",onClick:function(){return d("approve")},children:"Approve"}),Object(at.jsx)(zt.a,{danger:!0,onClick:function(){return d("reject")},children:"Reject"})]}):Object(at.jsx)(at.Fragment,{children:Object(at.jsx)(zt.a,{className:"btn-success",onClick:function(){return l(r._id)},children:"Join Training"})})]})]}):null},sc=ut.a.TextArea,ic=(On.a.RangePicker,hn.a.Option,St.a.Text),oc=function(){var e=Object(I.i)().id,t=JSON.parse(localStorage.getItem("profile")).result,a=Object(i.c)((function(e){return e.trainings})),r=(a.isLoading,a.training),c=jn.a.useForm(),s=Object(m.a)(c,1)[0],o=Object(n.useState)(null),l=Object(m.a)(o,2),u=l[0],d=l[1],j=Object(i.b)();return Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)("h2",{className:"form-header",children:"Request External Training"}),Object(at.jsxs)(jn.a,{form:s,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(e){d(null);var a=new FormData;if(e.upload){var n,r=Object(Ua.a)(e.upload);try{for(r.s();!(n=r.n()).done;){var c=n.value;c.originFileObj&&a.append("files",c.originFileObj)}}catch(i){r.e(i)}finally{r.f()}}var s={user:t._id,department:t.department._id,title:e.title,description:e.description,date:e.date.format("YYYY-MM-DD"),time:e.time.format("HH:mm"),duration:e.duration,trainingType:"external",organization:e.organization,status:"pending"};Object.entries(s).forEach((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1];a.append(n,r)})),j(Ma(a))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(at.jsx)(jn.a.Item,{label:"Workshop Name",name:"title",rules:[{required:!0,message:"Please insert a name!"}],children:Object(at.jsx)(ut.a,{})}),Object(at.jsx)(jn.a.Item,{label:"Workshop Organization",name:"organization",rules:[{required:!0,message:"Please insert a organization!"}],children:Object(at.jsx)(ut.a,{})}),Object(at.jsx)(jn.a.Item,{label:"Reason for attending",name:"description",rules:[{required:!0,message:"Please input your training description!"}],children:Object(at.jsx)(sc,{rows:4})}),Object(at.jsx)(jn.a.Item,{label:"Date",name:"date",rules:[{required:!0,message:"Please input your date!"}],children:Object(at.jsx)(On.a,{})}),Object(at.jsx)(jn.a.Item,{label:"Time",name:"time",rules:[{required:!0,message:"Please input your time!"}],children:Object(at.jsx)(Zr.a,{})}),Object(at.jsx)(jn.a.Item,{label:"Duration(hours)",name:"duration",rules:[{required:!0,message:"Please input the duration!"}],children:Object(at.jsx)(Pn.a,{min:1})}),Object(at.jsx)(jn.a.Item,{name:"upload",label:"Supporting Documents",valuePropName:"fileList",getValueFromEvent:function(e){return console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList},rules:[{required:!0,message:"Please provide documents for workshop details!"}],children:Object(at.jsx)(xn.a.Dragger,{name:"logo",listType:"picture",beforeUpload:function(e){return console.log("?????false",e),!1},customRequest:function(e){e.file;var t=e.onSuccess;setTimeout((function(){t("ok")}),0)},defaultFileList:function(){var t;return e?(null===r||void 0===r||null===(t=r.attachments)||void 0===t?void 0:t.map((function(e){return{uid:e.fileId,name:e.fileName,status:"done",url:"http://localhost:5000/".concat(e.filePath)}})))||[]:null},showUploadList:{showDownloadIcon:!0,downloadIcon:function(e){return"done"==e.status?Object(at.jsx)(vn.a,{}):Object(at.jsx)(at.Fragment,{})},showRemoveIcon:!0,removeIcon:function(e){return"done"==e.status?Object(at.jsx)(at.Fragment,{}):Object(at.jsx)(gn.a,{})}},children:Object(at.jsx)(zt.a,{icon:Object(at.jsx)(yn.a,{}),children:"Click to upload"})})}),Object(at.jsxs)(jn.a.Item,{wrapperCol:{offset:8,span:16},children:[u&&Object(at.jsx)(ic,{type:"danger",children:u}),Object(at.jsx)("br",{}),Object(at.jsx)("br",{}),Object(at.jsx)("br",{}),Object(at.jsx)(zt.a,{type:"primary",htmlType:"submit",children:"Submit"})]})]})]})},lc=function(){var e=Object(i.c)((function(e){return e.trainings})),t=e.trainings,a=e.isLoading,r=Object(i.c)((function(e){return e.depts})).depts,c=JSON.parse(localStorage.getItem("profile")).result,s=(Object(I.g)(),Object(i.b)());Object(n.useEffect)((function(){s(La(c.roles.name,c._id,c.department.name)),s(Ln())}),[s]);var o=[];r.forEach((function(e){o.push({text:e.name,value:e.name})}));var l=[{title:"Requester Name",dataIndex:"user",key:"user",valueType:"text",render:function(e,t){return"".concat(e.first_name," ").concat(e.last_name)}},{title:"Requester Department",dataIndex:["department","name"],key:"department",filters:o,onFilter:function(e,t){return 0===t.department.name.indexOf(e)}},{title:"Organizer",dataIndex:"organization",key:"organization"},{title:"Title",dataIndex:"title",key:"title"},{title:"Date",dataIndex:"date",key:"date",valueType:"date",sorter:function(e,t){return pt()(e.date)-pt()(t.date)},render:function(e,t){return pt()(t.date).format("YYYY-MM-DD")}},{title:"Time",dataIndex:"time",key:"time",hideInSearch:!0},{title:"Duration(hours)",dataIndex:"duration",key:"duration",hideInSearch:!0},{title:"Status",dataIndex:"status",key:"status",filters:[{text:"Pending",value:"pending"},{text:"Approved",value:"approve"},{text:"Rejected",value:"reject"}],onFilter:function(e,t){return 0===t.status.indexOf(e)},render:function(e,t){return Object(at.jsx)(xt.a,{status:"pending"==t.status?"processing":"approve"==t.status?"success":"error",text:t.status})}},{title:"Action",key:"_id",valueType:"option",render:function(e,t){return Object(at.jsx)(f.b,{size:"middle",children:Object(at.jsx)(_.b,{to:"view/".concat(t._id),children:"View"})},t._id)}}],d=Object(n.useRef)();return a?Object(at.jsx)(za,{}):Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)("h2",{children:"External Training Requests"}),t.length?Object(at.jsx)(at.Fragment,{children:Object(at.jsx)(u.b,{locale:Sn.a,children:Object(at.jsx)(Nn.a,{columns:l,actionRef:d,request:function(e,a,n){var r=t.reverse();return e&&Object.keys(e).length>0&&(r=r.filter((function(t){return Object.keys(e).every((function(a){if(console.log(Object.keys(e)),!e[a])return!0;if("pageSize"==a||"current"==a)return!0;if("all"==e[a])return!0;var n=t[a];return"user"==a?n="".concat(t.user.first_name," ").concat(t.user.last_name):"department"==a&&(n="".concat(t.department.name)),!n||-1!=n.search(new RegExp(".*"+e[a]+".*","gi"))}))}))),Promise.resolve({data:r,success:!0})},rowKey:"_id",pagination:{pageSize:10,showQuickJumper:!0},search:{layout:"vertical",defaultCollapsed:!0,span:6},dateFormatter:"string",toolbar:{title:"Tips:",tooltip:"Use the search bar above or filter icons on the columns for easy record finding"}})})}):Object(at.jsx)(Vt.a,{})]})},uc=function(){var e=Object(i.c)((function(e){return e.trainings})),t=e.trainings,a=e.extTrainings,r=e.isLoading,c=Object(i.c)((function(e){return e.depts})).depts,s=JSON.parse(localStorage.getItem("profile")).result,o=(Object(I.g)(),Object(i.b)());Object(n.useEffect)((function(){var e;o((e=s._id,function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Me}),t.next=4,fa(e);case 4:n=t.sent,r=n.data,a({type:Pe,payload:r}),a({type:Le}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),wa(t.t0,Ne);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}())),o(function(e){return function(){var t=Object(Kt.a)(Ut.a.mark((function t(a){var n,r;return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Me}),t.next=4,va(e);case 4:n=t.sent,r=n.data,a({type:Ye,payload:r}),a({type:Le}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),wa(t.t0,Ne);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(s._id)),o(Ln())}),[o]);var l=[];c.forEach((function(e){l.push({text:e.name,value:e.name})}));var d=[{title:"Organizer",dataIndex:"organization",key:"organization"},{title:"Title",dataIndex:"title",key:"title"},{title:"Date",dataIndex:"date",key:"date",valueType:"date",sorter:function(e,t){return pt()(e.date)-pt()(t.date)},render:function(e,t){return pt()(t.date).format("YYYY-MM-DD")}},{title:"Time",dataIndex:"time",key:"time",hideInSearch:!0},{title:"Duration(hours)",dataIndex:"duration",key:"duration",hideInSearch:!0},{title:"Status",dataIndex:"status",key:"status",filters:[{text:"Pending",value:"pending"},{text:"Approved",value:"approve"},{text:"Rejected",value:"reject"}],onFilter:function(e,t){return 0===t.status.indexOf(e)},render:function(e,t){return Object(at.jsx)(xt.a,{status:"pending"==t.status?"processing":"approve"==t.status?"success":"error",text:t.status})}},{title:"Action",key:"_id",valueType:"option",render:function(e,t){return Object(at.jsx)(f.b,{size:"middle",children:Object(at.jsx)(_.b,{to:"view/".concat(t._id),children:"View"})},t._id)}}],j=[{title:"Organizer",dataIndex:"user",key:"user",valueType:"text",render:function(e,t){return"".concat(e.first_name," ").concat(e.last_name)}},{title:"Department",dataIndex:["department","name"],key:"department",filters:l,onFilter:function(e,t){return 0===t.department.name.indexOf(e)}},{title:"Title",dataIndex:"title",key:"title"},{title:"Date",dataIndex:"date",key:"date",valueType:"date",sorter:function(e,t){return pt()(e.date)-pt()(t.date)},render:function(e,t){return pt()(t.date).format("YYYY-MM-DD")}},{title:"Time",dataIndex:"time",key:"time",hideInSearch:!0},{title:"Duration(hours)",dataIndex:"duration",key:"duration",hideInSearch:!0},{title:"Attendants",dataIndex:"attendants",key:"attendants",hideInSearch:!0,sorter:function(e,t){return pt()(e.attendants.length)-pt()(t.attendants.length)},render:function(e,t){return t.attendants.length}},{title:"Action",key:"_id",valueType:"option",render:function(e,t){return Object(at.jsx)(f.b,{size:"middle",children:Object(at.jsx)(_.b,{to:"view/".concat(t._id),children:"View"})},t._id)}}],b=Object(n.useRef)();return r?Object(at.jsx)(za,{}):Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)("h3",{children:"Your External Training Requests"}),a&&(a.length?Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(u.b,{locale:Sn.a,children:Object(at.jsx)(Nn.a,{columns:d,actionRef:b,request:function(e,t,n){var r=a.reverse();return e&&Object.keys(e).length>0&&(r=r.filter((function(t){return Object.keys(e).every((function(a){if(console.log(Object.keys(e)),!e[a])return!0;if("pageSize"==a||"current"==a)return!0;if("all"==e[a])return!0;var n=t[a];return"user"==a?n="".concat(t.user.first_name," ").concat(t.user.last_name):"department"==a&&(n="".concat(t.department.name)),!n||-1!=n.search(new RegExp(".*"+e[a]+".*","gi"))}))}))),Promise.resolve({data:r,success:!0})},rowKey:"_id",pagination:{pageSize:5,showQuickJumper:!0},search:{layout:"vertical",defaultCollapsed:!0,span:6},dateFormatter:"string",toolbar:{title:"Tips:",tooltip:"Use the search bar above or filter icons on the columns for easy record finding"},toolBarRender:function(){return[Object(at.jsx)(f.b,{children:Object(at.jsx)(zt.a,{type:"primary",children:Object(at.jsx)(_.b,{to:"/training/submitExt",children:"Submit External Training Request"})})})]}})}),Object(at.jsx)("br",{})]}):Object(at.jsx)(Vt.a,{})),Object(at.jsx)("h3",{children:"Attending/Hosting Internal Training"}),t.length?Object(at.jsx)(at.Fragment,{children:Object(at.jsx)(u.b,{locale:Sn.a,children:Object(at.jsx)(Nn.a,{columns:j,actionRef:b,request:function(e,a,n){var r=t.reverse();return e&&Object.keys(e).length>0&&(r=r.filter((function(t){return Object.keys(e).every((function(a){if(console.log(Object.keys(e)),!e[a])return!0;if("pageSize"==a||"current"==a)return!0;if("all"==e[a])return!0;var n=t[a];return"user"==a?n="".concat(t.user.first_name," ").concat(t.user.last_name):"department"==a&&(n="".concat(t.department.name)),!n||-1!=n.search(new RegExp(".*"+e[a]+".*","gi"))}))}))),Promise.resolve({data:r,success:!0})},rowKey:"_id",pagination:{pageSize:5,showQuickJumper:!0},search:{layout:"vertical",defaultCollapsed:!0,span:6},dateFormatter:"string",toolbar:{title:"Tips:",tooltip:"Use the search bar above or filter icons on the columns for easy record finding"},toolBarRender:function(){return[Object(at.jsx)(f.b,{children:Object(at.jsx)(zt.a,{type:"primary",children:Object(at.jsx)(_.b,{to:"/training/create",children:"Organize Training"})})})]}})})}):Object(at.jsx)(Vt.a,{})]})},dc=a(989),jc=a(517),bc=function(){JSON.parse(localStorage.getItem("profile")).result;var e=Object(i.c)((function(e){return e.leaves})),t=e.leaves,a=e.isLoading,r=e.leaveCount,c=Object(i.c)((function(e){return e.users})).users,s=Object(i.c)((function(e){return e.trainings})).trainingCount,o=(Object(i.c)((function(e){return e.depts})).depts,Object(i.b)()),l=(Object(I.g)(),0),u=0,d=0,j=0,b=0,p=0,m=0,O=0,h=0,x=0,f=0,v=0,g=0;Object(n.useEffect)((function(){o(Ia()),o(function(){var e=Object(Kt.a)(Ut.a.mark((function e(t){var a,n;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Me}),e.next=4,Jt.get("/training/count/dept");case 4:a=e.sent,n=a.data,t({type:He,payload:n}),t({type:Le}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),wa(e.t0,Ne);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),o(function(){var e=Object(Kt.a)(Ut.a.mark((function e(t){var a,n;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:L}),e.next=4,Jt.get("/leaves/count/dept");case 4:a=e.sent,n=a.data,t({type:je,payload:n}),t({type:N}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),wa(e.t0,F);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),o(Cn()),o(Ln())}),[o]);c.slice(0,3);t.map((function(e){var t=new Date(e.fromDate);"approve"==e.status&&("casual"==e.leaveType&&t.getMonth()==pt()().subtract(2,"months").month()?g=Math.max(++l,g):"medical"==e.leaveType&&t.getMonth()==pt()().subtract(2,"months").month()?g=Math.max(++u,g):"casual"==e.leaveType&&t.getMonth()==pt()().subtract(1,"months").month()?g=Math.max(++d,g):"medical"==e.leaveType&&t.getMonth()==pt()().subtract(1,"months").month()?g=Math.max(++j,g):"casual"==e.leaveType&&t.getMonth()==pt()().month()?g=Math.max(++b,g):"medical"==e.leaveType&&t.getMonth()==pt()().month()?g=Math.max(++p,g):"casual"==e.leaveType&&t.getMonth()==pt()().add(1,"months").month()?g=Math.max(++m,g):"medical"==e.leaveType&&t.getMonth()==pt()().add(1,"months").month()?g=Math.max(++O,g):"casual"==e.leaveType&&t.getMonth()==pt()().add(2,"months").month()?g=Math.max(++h,g):"medical"==e.leaveType&&t.getMonth()==pt()().add(2,"months").month()?g=Math.max(++x,g):"casual"==e.leaveType&&t.getMonth()==pt()().add(3,"months").month()?g=Math.max(++f,g):"medical"==e.leaveType&&t.getMonth()==pt()().add(3,"months").month()&&(g=Math.max(++v,g)))}));var y=[{name:pt()().subtract(2,"months").format("MMMM"),Casual:l,Medical:u},{name:pt()().subtract(1,"months").format("MMMM"),Casual:d,Medical:j},{name:pt()().format("MMMM"),Casual:b,Medical:p},{name:pt()().add(1,"months").format("MMMM"),Casual:m,Medical:O},{name:pt()().add(2,"months").format("MMMM"),Casual:h,Medical:x},{name:pt()().add(3,"months").format("MMMM"),Casual:f,Medical:v}];return!a&&t&&r?Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(St.a.Title,{level:2,children:"Admin Dashboard"}),Object(at.jsx)(At.a,{gutter:{xs:8,sm:16,md:24,lg:32},children:Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,sm:24,children:Object(at.jsxs)(Pt.a,{bordered:!0,children:[Object(at.jsx)("h3",{children:"Leaves Taken by Month for All Employees"}),Object(at.jsx)(Na.a,{minHeight:300,children:Object(at.jsxs)(dc.a,{width:"100%",height:"100%",data:y,margin:{top:5,right:30,left:20,bottom:5},children:[Object(at.jsx)(Pa.a,{dataKey:"name"}),Object(at.jsx)(Ra.a,{domain:[0,g+2],allowDecimals:!1}),Object(at.jsx)(Ya.a,{}),Object(at.jsx)(Ha.a,{wrapperStyle:{top:0,left:70}}),Object(at.jsx)(jc.a,{type:"monotone",dataKey:"Casual",stroke:"#0088FE",activeDot:{r:8}}),Object(at.jsx)(jc.a,{type:"monotone",dataKey:"Medical",stroke:"#2ce654"})]})}),Object(at.jsx)("br",{}),Object(at.jsxs)("row",{children:[Object(at.jsx)(zt.a,{className:"right-button",type:"primary",children:Object(at.jsx)(_.b,{to:"/leaves/list",children:"More Details..."})}),Object(at.jsx)(zt.a,{className:"right-button",type:"primary",children:Object(at.jsx)(_.b,{to:"/calendar",children:"View on Calendar"})})]})]})})}),Object(at.jsx)("br",{}),Object(at.jsx)(St.a.Title,{level:2,children:"Overview"}),Object(at.jsxs)(At.a,{gutter:{xs:8,sm:16,md:24,lg:32},children:[Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,sm:12,children:Object(at.jsxs)(Pt.a,{bordered:!0,children:[Object(at.jsx)("b",{children:"Leaves Taken by Department:"}),Object(at.jsxs)(Ht.a,{dataSource:r,rowKey:"_id",children:[Object(at.jsx)(Ht.a.Column,{title:"Name",dataIndex:["department","name"],dataKey:["department","name"]}),Object(at.jsx)(Ht.a.Column,{title:"Leaves Taken",dataIndex:"count",dataKey:"count",defaultSortOrder:"descend",sorter:function(e,t){return e.count-t.count}})]})]})}),Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,sm:12,children:Object(at.jsxs)(Pt.a,{bordered:!0,children:[Object(at.jsx)("b",{children:"Trainings Conducted by Department:"}),Object(at.jsxs)(Ht.a,{dataSource:s,rowKey:"_id",children:[Object(at.jsx)(Ht.a.Column,{title:"Name",dataIndex:["department","name"],dataKey:["department","name"]}),Object(at.jsx)(Ht.a.Column,{title:"Trainings Organized",dataIndex:"count",dataKey:"count",defaultSortOrder:"descend",sorter:function(e,t){return e.count-t.count}})]})]})})]})]}):Object(at.jsx)(za,{})},pc=a(335),mc=function(){var e,t=JSON.parse(localStorage.getItem("profile")).result,a=Object(i.c)((function(e){return e.leaves})),r=a.leaves,c=(a.isLoading,a.todayLeaves),s=Object(i.c)((function(e){return e.users})).users,o=Object(i.c)((function(e){return e.depts})).depts,l=hn.a.Option,u=Object(i.b)(),d=Object(I.g)(),j=Object(n.useState)(!0),b=Object(m.a)(j,2),p=b[0],O=b[1],h=Object(n.useState)(!1),x=Object(m.a)(h,2),v=x[0],g=x[1];Object(n.useEffect)((function(){u(Ia()),u(Da()),u(Dn(t.department._id)).then((function(){return O(!1)})),"admin"==t.roles.name&&(g(!0),u(Ln()))}),[u]);e=s.length?s[0].department._id:t.department._id;var y=c.filter((function(t){return t.department._id==e})),T=s.slice(0,3),w=[];s.map((function(e){"supervisor"==e.roles.name&&w.push("".concat(e.first_name," ").concat(e.last_name))}));var k=0,C=0,E=0,D=0,M=0,L=0,N=0,F=0,S=0,A=0,R=0,P=0,Y=0;r.map((function(t){var a=new Date(t.fromDate);"approve"==t.status&&t.department._id==e&&("casual"==t.leaveType&&a.getMonth()==pt()().subtract(2,"months").month()?Y=Math.max(++k,Y):"medical"==t.leaveType&&a.getMonth()==pt()().subtract(2,"months").month()?Y=Math.max(++C,Y):"casual"==t.leaveType&&a.getMonth()==pt()().subtract(1,"months").month()?Y=Math.max(++E,Y):"medical"==t.leaveType&&a.getMonth()==pt()().subtract(1,"months").month()?Y=Math.max(++D,Y):"casual"==t.leaveType&&a.getMonth()==pt()().month()?Y=Math.max(++M,Y):"medical"==t.leaveType&&a.getMonth()==pt()().month()?Y=Math.max(++L,Y):"casual"==t.leaveType&&a.getMonth()==pt()().add(1,"months").month()?Y=Math.max(++N,Y):"medical"==t.leaveType&&a.getMonth()==pt()().add(1,"months").month()?Y=Math.max(++F,Y):"casual"==t.leaveType&&a.getMonth()==pt()().add(2,"months").month()?Y=Math.max(++S,Y):"medical"==t.leaveType&&a.getMonth()==pt()().add(2,"months").month()?Y=Math.max(++A,Y):"casual"==t.leaveType&&a.getMonth()==pt()().add(3,"months").month()?Y=Math.max(++R,Y):"medical"==t.leaveType&&a.getMonth()==pt()().add(3,"months").month()&&(Y=Math.max(++P,Y)))}));var q=[{name:pt()().subtract(2,"months").format("MMMM"),Casual:k,Medical:C},{name:pt()().subtract(1,"months").format("MMMM"),Casual:E,Medical:D},{name:pt()().format("MMMM"),Casual:M,Medical:L},{name:pt()().add(1,"months").format("MMMM"),Casual:N,Medical:F},{name:pt()().add(2,"months").format("MMMM"),Casual:S,Medical:A},{name:pt()().add(3,"months").format("MMMM"),Casual:R,Medical:P}];return p?Object(at.jsx)(za,{}):Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(pc.a,{title:"Select Department to View",visible:v,footer:[Object(at.jsx)(zt.a,{onClick:function(){return d.goBack()},children:"Back"}),Object(at.jsx)(zt.a,{form:"myForm",htmlType:"submit",children:"Submit"},"submit")],children:Object(at.jsx)(jn.a,{id:"myForm",onFinish:function(e){u(Dn(e.department)),g(!1)},children:Object(at.jsx)(jn.a.Item,{label:"Departments",name:"department",rules:[{required:!0,message:"Please select a department!"}],children:Object(at.jsx)(hn.a,{children:o.map((function(e){return Object(at.jsx)(l,{value:e._id,children:e.name},e._id)}))})})})}),Object(at.jsx)(St.a.Title,{level:2,children:"Department Dashboard"}),Object(at.jsxs)(At.a,{gutter:{xs:8,sm:16,md:24,lg:32},children:[Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,sm:12,children:Object(at.jsxs)(Pt.a,{bordered:!0,children:[Object(at.jsxs)(Yt.b,{title:"Department Details",bordered:!0,contentStyle:{wordBreak:"keep-all"},column:{sm:3,xs:1},children:[Object(at.jsx)(Yt.b.Item,{label:"Name",span:2,children:s[0].department.name}),Object(at.jsx)(Yt.b.Item,{label:"Code",span:1,children:s[0].department.code}),Object(at.jsx)(Yt.b.Item,{label:"Supervisors",span:3,children:Object(at.jsx)(ft.b,{dataSource:w,renderItem:function(e){return Object(at.jsxs)(ft.b.Item,{children:[Object(at.jsx)(St.a.Text,{mark:!0})," ",e]})}})}),Object(at.jsx)(Yt.b.Item,{label:"No. of Staff",span:3,children:s.length})]}),"admin"==t.roles.name&&Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)("br",{}),Object(at.jsx)(zt.a,{type:"primary",onClick:function(){g(!0)},children:"Change Departments"})]})]})}),Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,sm:12,children:Object(at.jsxs)(Pt.a,{bordered:!0,children:[Object(at.jsx)("h4",{children:"Leaves Taken by Month for Employees in Department"}),Object(at.jsx)(Na.a,{minHeight:300,children:Object(at.jsxs)(dc.a,{width:"100%",height:"100%",data:q,margin:{top:5,right:30,left:20,bottom:5},children:[Object(at.jsx)(Pa.a,{dataKey:"name"}),Object(at.jsx)(Ra.a,{domain:[0,Y+2],allowDecimals:!1}),Object(at.jsx)(Ya.a,{}),Object(at.jsx)(Ha.a,{wrapperStyle:{top:0,left:70}}),Object(at.jsx)(jc.a,{type:"monotone",dataKey:"Casual",stroke:"#0088FE",activeDot:{r:8}}),Object(at.jsx)(jc.a,{type:"monotone",dataKey:"Medical",stroke:"#2ce654"})]})}),Object(at.jsx)(zt.a,{type:"primary",children:Object(at.jsx)(_.b,{to:"/leaves/list",children:"To Leaves"})})]})})]}),Object(at.jsx)("br",{}),Object(at.jsx)(St.a.Title,{level:2,children:"Department Overview"}),Object(at.jsxs)(At.a,{gutter:{xs:8,sm:16,md:24,lg:32},children:[Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,sm:12,children:Object(at.jsxs)(Pt.a,{bordered:!0,children:[Object(at.jsx)("b",{children:"Currently on Leave in Department:"}),y&&(y.length?Object(at.jsx)(at.Fragment,{children:Object(at.jsxs)(Ht.a,{dataSource:y,rowKey:"_id",children:[Object(at.jsx)(Ht.a.Column,{title:"Name",dataIndex:"name",render:function(e,t){return"".concat(t.user.first_name," ").concat(t.user.last_name)}}),Object(at.jsx)(Ht.a.Column,{title:"Leave Type",dataIndex:"leaveType",render:function(e,t){return Object(at.jsx)(jt.a,{color:"red",children:e})}},"leaveType"),Object(at.jsx)(Ht.a.Column,{title:"Action",render:function(e,t){return Object(at.jsx)(f.b,{size:"middle",children:Object(at.jsx)(_.b,{to:"leaves/view/".concat(t._id),children:"View"})},t._id)}},"action")]})}):Object(at.jsx)(Vt.a,{}))]})}),Object(at.jsx)(Rt.a,{className:"gutter-row",xs:24,sm:12,children:Object(at.jsxs)(Pt.a,{bordered:!0,children:[Object(at.jsx)("b",{children:"Top Training Hours Completed:"}),T&&(T.length?Object(at.jsx)(at.Fragment,{children:Object(at.jsxs)(Ht.a,{dataSource:T,rowKey:"_id",children:[Object(at.jsx)(Ht.a.Column,{title:"Name",dataIndex:"name",render:function(e,t){return"".concat(t.first_name," ").concat(t.last_name)}}),Object(at.jsx)(Ht.a.Column,{title:"Training Hours"})]})}):Object(at.jsx)(Vt.a,{}))]})})]})]})},Oc=a(247),hc=a(1010),xc=a(518),fc=["key","name","fieldKey"],vc=hn.a.Option,gc=function(){var e=Object(xc.useForm)(),t=Object(m.a)(e,1)[0],a=Object(I.i)().id,r=Object(i.b)(),c=Object(I.g)(),s=Object(i.c)((function(e){return e.policy})).policy;Object(n.useEffect)((function(){a&&r(qn(a))}),[r,a]);return Object(at.jsxs)(jn.a,{ref:t,initialValues:Object(p.a)(Object(p.a)({},s),{},{policy:s.list}),name:"dynamic_form_nest_item",onFinish:function(e){var t;console.log("Received values of form:",e),r(a?function(e,t){return function(){var a=Object(Kt.a)(Ut.a.mark((function a(n){var r,c;return Ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:Ge}),a.next=4,Ta(e,t);case 4:r=a.sent,c=r.data,n({type:Be,payload:c}),n({type:Je}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),wa(a.t0,We);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(a,{stacked:e.stacked,name:e.name,list:e.policy}):(t={stacked:e.stacked,name:e.name,list:e.policy},function(){var e=Object(Kt.a)(Ut.a.mark((function e(a){var n,r;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),a({type:Ge}),e.next=5,c=t,Jt.post("/policy",c);case 5:n=e.sent,r=n.data,a({type:ze,payload:r}),a({type:Je}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),wa(e.t0,We);case 14:case"end":return e.stop()}var c}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))},onFinishFailed:function(e){console.log("Failed:",e)},onFieldsChange:function(){},autoComplete:"off",children:[Object(at.jsxs)(f.b,{align:"baseline",children:[Object(at.jsx)(jn.a.Item,{name:"stacked",valuePropName:"checked",children:Object(at.jsx)(or.a,{children:"Stacked"})}),Object(at.jsx)(v.a,{title:"If stacked is selected, all 'After' conditions will apply cumulatively. If stacked is not selected, only the highest 'After' condition will apply",children:Object(at.jsx)(Oc.a,{})})]}),Object(at.jsx)(qt.a,{style:{marginBottom:"50px"},description:"If stacked is selected, all 'After' conditions will apply cumulatively. If stacked is not selected, only the highest 'After' condition will apply",type:"info",showIcon:!0}),Object(at.jsx)(jn.a.Item,{label:"Name",name:"name",children:Object(at.jsx)(ut.a,{})}),Object(at.jsx)(jn.a.List,{name:"policy",children:function(e,t){var a=t.add,n=t.remove;return Object(at.jsxs)(at.Fragment,{children:[e.map((function(e){var t=e.key,a=e.name,r=e.fieldKey,c=Object(Qe.a)(e,fc);return Object(at.jsxs)(f.b,{style:{display:"flex",flexWrap:"wrap",marginBottom:8},align:"baseline",children:[Object(at.jsx)(jn.a.Item,Object(p.a)(Object(p.a)({},c),{},{name:[a,"condition1"],fieldKey:[r,"condition1"],rules:[{required:!0,message:"Missing condition1"}],children:Object(at.jsxs)(hn.a,{allowClear:!0,placeholder:"Choose an option",children:[Object(at.jsx)(vc,{value:"after",children:"After"}),Object(at.jsx)(vc,{value:"every",children:"Every"})]})})),Object(at.jsx)(jn.a.Item,Object(p.a)(Object(p.a)({},c),{},{name:[a,"year"],fieldKey:[r,"year"],rules:[{required:!0,message:"Missing year"}],children:Object(at.jsx)(Pn.a,{min:1,placeholder:"Enter years"})})),Object(at.jsx)(at.Fragment,{children:"years, increase by "}),Object(at.jsx)(jn.a.Item,Object(p.a)(Object(p.a)({},c),{},{name:[a,"increase"],fieldKey:[r,"increase"],rules:[{required:!0,message:"Missing increase"}],children:Object(at.jsx)(Pn.a,{min:1,placeholder:"Enter increase"})})),Object(at.jsx)(hc.a,{onClick:function(){return n(a)}})]},"name"+t)})),Object(at.jsx)(jn.a.Item,{children:Object(at.jsx)(zt.a,{type:"dashed",onClick:function(){return a()},block:!0,icon:Object(at.jsx)(hr.a,{}),children:"Add field"})})]})}}),Object(at.jsxs)(jn.a.Item,{children:[Object(at.jsx)(zt.a,{type:"primary",htmlType:"submit",children:"Submit"}),Object(at.jsx)(zt.a,{type:"secondary",htmlType:"button",onClick:function(){return c.goBack()},children:"Back"})]})]})},yc=Ht.a.Column,Tc=function(){var e=Object(i.c)((function(e){return e.policy})).policies,t=Object(i.b)();Object(n.useEffect)((function(){t(function(){var e=Object(Kt.a)(Ut.a.mark((function e(t){var a,n;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Ge}),e.next=4,Jt.get("/policy");case 4:a=e.sent,n=a.data,t({type:Ue,payload:n}),t({type:Je}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),wa(e.t0,We);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);var a=Object(I.g)();return Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(f.b,{style:{marginBottom:16},children:Object(at.jsx)(zt.a,{onClick:function(){a.push("/policy/create")},children:"Add Policy"})}),Object(at.jsx)("br",{}),e.length?Object(at.jsx)(at.Fragment,{children:Object(at.jsxs)(Ht.a,{dataSource:e,rowKey:"_id",children:[Object(at.jsx)(yc,{title:"Policy",dataIndex:"list",render:function(e,t){return e.map((function(e,t){return Object(at.jsx)("p",{children:"".concat(e.condition1," ").concat(e.year," years, increase by ").concat(e.increase)},t)}))}},"list"),Object(at.jsx)(yc,{title:"Action",render:function(e,t){return Object(at.jsx)(f.b,{size:"middle",children:Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"/policy/edit/".concat(t._id),children:"Edit"})})})}},"action")]})}):Object(at.jsx)(at.Fragment,{children:Object(at.jsx)(ht.a,{size:"large"})}),Object(at.jsx)(zt.a,{children:Object(at.jsx)(_.b,{to:"/",children:"Back"})})]})},wc=a(338),Ic=function(){var e=Object(I.g)();return Object(at.jsx)(wc.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:Object(at.jsx)(zt.a,{onClick:function(){e.push("/")},type:"primary",children:"Back Home"})})},_c=(O.a.Header,O.a.Footer,O.a.Sider,O.a.Content),kc=function(){var e,t,a=Object(i.b)(),r=Object(n.useState)({fixSiderbar:!0,navTheme:"light",primaryColor:"#1890ff",layout:"side",contentWidth:"Fluid",splitMenus:!1}),c=Object(m.a)(r,2),s=c[0],o=(c[1],Object(n.useState)("/")),l=Object(m.a)(o,2),u=l[0],d=l[1],j=Object(i.c)((function(e){return e.auth})).authData,b=null===j||void 0===j?void 0:j.result,O=Object(I.h)(),v=Ja,g=Object(I.g)();return Object(n.useEffect)((function(){d(O.pathname);var e=null===b||void 0===b?void 0:b.token;e&&(1e3*Object(dn.a)(e).exp<(new Date).getTime()&&(h.b.error("Session expired. Please login again"),a({type:q}),g.push("/auth")))}),[O]),v="supervisor"==(null===b||void 0===b||null===(e=b.roles)||void 0===e?void 0:e.name)?$a:"admin"==(null===b||void 0===b||null===(t=b.roles)||void 0===t?void 0:t.name)?an:Ja,Object(at.jsx)("div",{id:"test-pro-layout",style:{height:"100vh"},children:Object(at.jsx)(kt.a,Object(p.a)(Object(p.a)(Object(p.a)({title:!1,logo:function(){return Object(at.jsx)(x.a,{className:"logo",src:"/INTI_Logo.png",preview:!1})}},v),{},{location:{pathname:u},menuFooterRender:function(e){return Object(at.jsx)(x.a,{className:"logo",src:"/INTI_Logo.png",preview:!1})},menuRender:function(e,t){return!!b&&t},onMenuHeaderClick:function(e){return console.log(e)},menuItemRender:function(e,t){var a=e.path.split("/./")[0];return Object(at.jsx)(_.b,{to:a||"/",children:t})},rightContentRender:function(){return Object(at.jsxs)(f.b,{size:"large",children:[Object(at.jsx)(un,{user:b}),Object(at.jsx)(it,{user:b})]})}},s),{},{children:Object(at.jsx)(_c,{className:"site-layout-background",children:Object(at.jsxs)(I.d,{children:[Object(at.jsx)(Nr,{path:"/",exact:!0,component:Ba}),Object(at.jsx)(Nr,{path:"/supervisor",exact:!0,component:mc}),Object(at.jsx)(Nr,{path:"/admin",exact:!0,component:bc}),Object(at.jsx)(Nr,{path:"/leaves",exact:!0,component:Ga}),Object(at.jsx)(Nr,{path:"/leaves/create",exact:!0,component:kn}),Object(at.jsx)(Nr,{path:"/leaves/view/:id",exact:!0,component:Mn}),Object(at.jsx)(Nr,{path:"/leaves/edit/:id",exact:!0,component:kn}),Object(at.jsx)(Nr,{path:"/leaves/list",exact:!0,component:An}),Object(at.jsx)(Nr,{path:"/leaves/history",exact:!0,component:Rn}),Object(at.jsx)(Nr,{path:"/depts",exact:!0,component:Bn}),Object(at.jsx)(Nr,{path:"/depts/create",exact:!0,component:Kn}),Object(at.jsx)(Nr,{path:"/users",exact:!0,component:Qn}),Object(at.jsx)(Nr,{path:"/profile",exact:!0,component:fr}),Object(at.jsx)(Nr,{path:"/users/create",exact:!0,component:Hn}),Object(at.jsx)(Nr,{path:"/users/view/:id",exact:!0,component:Xn}),Object(at.jsx)(Nr,{path:"/leaveTypes",exact:!0,component:cr}),Object(at.jsx)(Nr,{path:"/test",exact:!0,component:Ar}),Object(at.jsx)(Nr,{path:"/test2",exact:!0,component:Qr}),Object(at.jsx)(Nr,{path:"/leaveTypes/create",exact:!0,component:nr}),Object(at.jsx)(Nr,{path:"/leaveTypes/edit/:id",exact:!0,component:nr}),Object(at.jsx)(Nr,{path:"/roles",exact:!0,component:ir}),Object(at.jsx)(Nr,{path:"/roles/create",exact:!0,component:br}),Object(at.jsx)(Nr,{path:"/roles/edit/:id",exact:!0,component:br}),Object(at.jsx)(Nr,{path:"/calendar",exact:!0,component:Mr}),Object(at.jsx)(Nr,{path:"/holidays",exact:!0,component:Pr}),Object(at.jsx)(Nr,{path:"/holidays/create/:id",exact:!0,component:qr}),Object(at.jsx)(Nr,{path:"/training",exact:!0,component:Xr}),Object(at.jsx)(Nr,{path:"/training/create",exact:!0,component:ac}),Object(at.jsx)(Nr,{path:"/training/list",exact:!0,component:nc}),Object(at.jsx)(Nr,{path:"/training/view/:id",exact:!0,component:cc}),Object(at.jsx)(Nr,{path:"/training/submitExt",exact:!0,component:oc}),Object(at.jsx)(Nr,{path:"/training/extList",exact:!0,component:lc}),Object(at.jsx)(Nr,{path:"/training/history",exact:!0,component:uc}),Object(at.jsx)(Sr,{path:"/auth",exact:!0,component:mn}),Object(at.jsx)(I.b,{path:"/resetPassword",exact:!0,component:Rr}),Object(at.jsx)(Nr,{path:"/policy",exact:!0,component:Tc}),Object(at.jsx)(Nr,{path:"/policy/create",exact:!0,component:gc}),Object(at.jsx)(Nr,{path:"/policy/edit/:id",exact:!0,component:gc}),Object(at.jsx)(I.b,{component:Ic})]})})}))})},Cc=a(91),Ec=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{error:null,isLoading:!0,authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0,error:null});case H:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1});case z:return Object(p.a)(Object(p.a)({},e),{},{error:t.error,isLoading:!1});case Y:return localStorage.setItem("profile",JSON.stringify(Object(p.a)({},null===t||void 0===t?void 0:t.data))),Object(p.a)(Object(p.a)({},e),{},{authData:null===t||void 0===t?void 0:t.data});case q:return localStorage.clear(),Object(p.a)(Object(p.a)({},e),{},{authData:null});default:return e}},Dc=Object(o.combineReducers)({leaves:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{error:null,isLoading:!0,leaves:[],calendar:[],leave:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0,error:null});case N:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1});case F:return Object(p.a)(Object(p.a)({},e),{},{error:t.error,isLoading:!1});case C:return Object(p.a)(Object(p.a)({},e),{},{leaves:e.leaves.map((function(e){return e._id===t.payload._id?t.payload:e})),leave:t.payload});case D:return Object(p.a)(Object(p.a)({},e),{},{leave:t.payload});case M:var a=t.payload.data.leaves.map((function(e){var t=e.leaveType;return{id:e._id,title:"".concat(e.user.first_name," ").concat(e.user.last_name," (").concat(e.leaveType,")"),start:e.fromDate,url:"/leaves/view/".concat(e._id),end:e.toDate,extendedProps:{emp_id:e.emp_id},allDay:!0,color:"casual"==t?"blue":"medical"==t?"green":"red"}}))||[],n=t.payload.data.holidays.map((function(e){return{id:e._id,title:e.title,start:e.startDate,end:e.endDate,allDay:!0,display:"background"}}))||[];return Object(p.a)(Object(p.a)({},e),{},{leaves:[].concat(Object(Cc.a)(n),Object(Cc.a)(a))});case E:return Object(p.a)(Object(p.a)({},e),{},{leaves:t.payload});case k:return Object(p.a)(Object(p.a)({},e),{},{leaves:[].concat(Object(Cc.a)(e.leaves),[t.payload])});case S:return Object(p.a)(Object(p.a)({},e),{},{leaves:t.payload});case A:return Object(p.a)(Object(p.a)({},e),{},{upcomingLeave:t.payload});case R:return Object(p.a)(Object(p.a)({},e),{},{leaves:t.payload});case P:return Object(p.a)(Object(p.a)({},e),{},{todayLeaves:t.payload});case je:return Object(p.a)(Object(p.a)({},e),{},{leaveCount:t.payload});default:return e}},auth:Ec,depts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{error:null,isLoading:!0,depts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0,error:null});case ne:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1});case re:return Object(p.a)(Object(p.a)({},e),{},{error:t.error,isLoading:!1});case $:return Object(p.a)(Object(p.a)({},e),{},{depts:e.depts.map((function(e){return e._id===t.payload._id?t.payload:e}))});case te:return Object(p.a)(Object(p.a)({},e),{},{depts:t.payload});case Z:return Object(p.a)(Object(p.a)({},e),{},{depts:[].concat(Object(Cc.a)(e.depts),[t.payload])});case ee:return Object(p.a)(Object(p.a)({},e),{},{depts:e.depts.filter((function(e){return e._id!==t.payload}))});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[],user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0,error:null});case W:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1});case Q:return Object(p.a)(Object(p.a)({},e),{},{error:t.error,isLoading:!1});case U:return Object(p.a)(Object(p.a)({},e),{},{users:e.users.map((function(e){return e._id===t.payload._id?t.payload:e}))});case G:return Object(p.a)(Object(p.a)({},e),{},{user:t.payload});case K:return Object(p.a)(Object(p.a)({},e),{},{users:t.payload});case B:return Object(p.a)(Object(p.a)({},e),{},{users:[].concat(Object(Cc.a)(e.users),[t.payload])});case X:return Object(p.a)(Object(p.a)({},e),{},{users:t.payload});default:return e}},leaveTypes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{error:null,isLoading:!0,leaveTypes:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0,error:null});case ue:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1});case de:return Object(p.a)(Object(p.a)({},e),{},{error:t.error,isLoading:!1});case se:return Object(p.a)(Object(p.a)({},e),{},{leaveTypes:e.leaveTypes.map((function(e){return e._id===t.payload._id?t.payload:e}))});case oe:return Object(p.a)(Object(p.a)({},e),{},{leaveType:t.payload,isLoading:!1});case ie:return Object(p.a)(Object(p.a)({},e),{},{leaveTypes:t.payload});case ce:return Object(p.a)(Object(p.a)({},e),{},{leaveTypes:[].concat(Object(Cc.a)(e.leaveTypes),[t.payload])});default:return e}},roles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{error:null,isLoading:!0,roles:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0,error:null});case xe:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1});case fe:return Object(p.a)(Object(p.a)({},e),{},{error:t.error,isLoading:!1});case pe:return Object(p.a)(Object(p.a)({},e),{},{roles:e.roles.map((function(e){return e._id===t.payload._id?t.payload:e}))});case Oe:return Object(p.a)(Object(p.a)({},e),{},{role:t.payload});case me:return Object(p.a)(Object(p.a)({},e),{},{roles:t.payload});case be:return Object(p.a)(Object(p.a)({},e),{},{roles:[].concat(Object(Cc.a)(e.roles),[t.payload])});default:return e}},holidays:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{error:null,isLoading:!0,holidays:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0,error:null});case Ie:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1});case _e:return Object(p.a)(Object(p.a)({},e),{},{error:t.error,isLoading:!1});case ge:return Object(p.a)(Object(p.a)({},e),{},{holidays:Object(p.a)(Object(p.a)({},e.holidays),{},{lists:e.holidays.lists.map((function(e){return e._id===t.payload._id?t.payload:e}))})});case ke:case Te:return Object(p.a)(Object(p.a)({},e),{},{holidays:t.payload});case ve:return Object(p.a)(Object(p.a)({},e),{},{holidays:Object(p.a)(Object(p.a)({},e.holidays),{},{lists:[].concat(Object(Cc.a)(e.holidays.lists),[t.payload])})});case ye:return Object(p.a)(Object(p.a)({},e),{},{holidays:Object(p.a)(Object(p.a)({},e.holidays),{},{lists:e.holidays.lists.filter((function(e){return e._id!==t.payload}))})});default:return e}},trainings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{error:null,isLoading:!0,trainings:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0,error:null});case Le:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1});case Ne:return Object(p.a)(Object(p.a)({},e),{},{error:t.error,isLoading:!1});case De:return Object(p.a)(Object(p.a)({},e),{},{training:t.payload});case Ee:return Object(p.a)(Object(p.a)({},e),{},{trainings:t.payload});case Ce:return Object(p.a)(Object(p.a)({},e),{},{trainings:[].concat(Object(Cc.a)(e.trainings),[t.payload])});case Fe:case Se:return Object(p.a)(Object(p.a)({},e),{},{training:t.payload});case Ae:return Object(p.a)(Object(p.a)({},e),{},{trainings:t.payload});case Re:return Object(p.a)(Object(p.a)({},e),{},{trainings:e.trainings.map((function(e){return e._id===t.payload._id?t.payload:e})),training:t.payload});case Pe:return Object(p.a)(Object(p.a)({},e),{},{extTrainings:t.payload});case Ye:return Object(p.a)(Object(p.a)({},e),{},{trainings:t.payload});case qe:return Object(p.a)(Object(p.a)({},e),{},{upcomingTraining:t.payload});case Ve:return Object(p.a)(Object(p.a)({},e),{},{trainings:t.payload});case He:return Object(p.a)(Object(p.a)({},e),{},{trainingCount:t.payload});default:return e}},trainingRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{error:null,isLoading:!0,trainings:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0,error:null});case Le:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1});case Ne:return Object(p.a)(Object(p.a)({},e),{},{error:t.error,isLoading:!1});case De:return Object(p.a)(Object(p.a)({},e),{},{training:t.payload});case Ee:return Object(p.a)(Object(p.a)({},e),{},{trainings:t.payload});case Ce:return Object(p.a)(Object(p.a)({},e),{},{trainings:[].concat(Object(Cc.a)(e.trainings),[t.payload])});case Fe:case Se:return Object(p.a)(Object(p.a)({},e),{},{training:t.payload});case Ae:return Object(p.a)(Object(p.a)({},e),{},{trainings:t.payload});case Re:return Object(p.a)(Object(p.a)({},e),{},{trainings:e.trainings.map((function(e){return e._id===t.payload._id?t.payload:e})),training:t.payload});case Pe:return Object(p.a)(Object(p.a)({},e),{},{extTrainings:t.payload});case Ye:return Object(p.a)(Object(p.a)({},e),{},{trainings:t.payload});case qe:return Object(p.a)(Object(p.a)({},e),{},{upcomingTraining:t.payload});case Ve:return Object(p.a)(Object(p.a)({},e),{},{trainings:t.payload});default:return e}},policy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{error:null,isLoading:!0,policies:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0,error:null});case Je:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1});case We:return Object(p.a)(Object(p.a)({},e),{},{error:t.error,isLoading:!1});case Be:return Object(p.a)(Object(p.a)({},e),{},{policies:e.policies.map((function(e){return e._id===t.payload._id?t.payload:e}))});case Ke:return Object(p.a)(Object(p.a)({},e),{},{policy:t.payload});case Ue:return Object(p.a)(Object(p.a)({},e),{},{policies:t.payload});case ze:return Object(p.a)(Object(p.a)({},e),{},{policies:[].concat(Object(Cc.a)(e.policies),[t.payload])});default:return e}}}),Mc=a(520),Lc=a.n(Mc);a(970),a(971),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Nc={key:"root",storage:Lc.a},Fc=Object(j.a)(Nc,(function(e,t){return t.type===q&&(e=void 0),Dc(e,t)})),Sc=Object(o.createStore)(Fc,Object(l.composeWithDevTools)(Object(o.applyMiddleware)(d.a))),Ac=Object(j.b)(Sc);s.a.render(Object(at.jsx)(i.a,{store:Sc,children:Object(at.jsx)(b.a,{loading:null,persistor:Ac,children:Object(at.jsx)(u.b,{locale:Sn.a,children:Object(at.jsx)(_.a,{children:Object(at.jsx)(kc,{})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[972,1,2]]]);
//# sourceMappingURL=main.5e59759d.chunk.js.map